<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Quoc Anh Doan">

<title>Data Import</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="001_data_import_files/libs/clipboard/clipboard.min.js"></script>
<script src="001_data_import_files/libs/quarto-html/quarto.js"></script>
<script src="001_data_import_files/libs/quarto-html/popper.min.js"></script>
<script src="001_data_import_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="001_data_import_files/libs/quarto-html/anchor.min.js"></script>
<link href="001_data_import_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="001_data_import_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="001_data_import_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="001_data_import_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="001_data_import_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#setup" id="toc-setup" class="nav-link active" data-scroll-target="#setup">Setup</a>
  <ul>
  <li><a href="#set-the-seed-for-reproducibility" id="toc-set-the-seed-for-reproducibility" class="nav-link" data-scroll-target="#set-the-seed-for-reproducibility">Set the Seed for reproducibility</a></li>
  <li><a href="#library" id="toc-library" class="nav-link" data-scroll-target="#library">library</a></li>
  </ul></li>
  <li><a href="#import" id="toc-import" class="nav-link" data-scroll-target="#import">Import</a></li>
  <li><a href="#clean-column-names" id="toc-clean-column-names" class="nav-link" data-scroll-target="#clean-column-names">Clean Column Names</a></li>
  <li><a href="#data-column-format" id="toc-data-column-format" class="nav-link" data-scroll-target="#data-column-format">Data Column Format</a>
  <ul>
  <li><a href="#submission_format-dataset" id="toc-submission_format-dataset" class="nav-link" data-scroll-target="#submission_format-dataset"><code>submission_format</code> Dataset</a>
  <ul>
  <li><a href="#setting-column-type-for-submission_format-dataset" id="toc-setting-column-type-for-submission_format-dataset" class="nav-link" data-scroll-target="#setting-column-type-for-submission_format-dataset">Setting Column Type for <code>submission_format</code> Dataset</a></li>
  </ul></li>
  <li><a href="#test_set_features-dataset" id="toc-test_set_features-dataset" class="nav-link" data-scroll-target="#test_set_features-dataset"><code>test_set_features</code> Dataset</a>
  <ul>
  <li><a href="#the-features-in-this-dataset" id="toc-the-features-in-this-dataset" class="nav-link" data-scroll-target="#the-features-in-this-dataset">The features in this dataset</a></li>
  <li><a href="#setting-column-type-for-test_set_features-dataset" id="toc-setting-column-type-for-test_set_features-dataset" class="nav-link" data-scroll-target="#setting-column-type-for-test_set_features-dataset">Setting Column Type for <code>test_set_features</code> Dataset</a></li>
  <li><a href="#do-i-want-these-as-factors-or-stringscharacters" id="toc-do-i-want-these-as-factors-or-stringscharacters" class="nav-link" data-scroll-target="#do-i-want-these-as-factors-or-stringscharacters">Do I want these as factors or strings/characters?</a></li>
  <li><a href="#set-up-some-factor-levels-for-categorical-variables" id="toc-set-up-some-factor-levels-for-categorical-variables" class="nav-link" data-scroll-target="#set-up-some-factor-levels-for-categorical-variables">Set up some factor levels for categorical variables:</a>
  <ul class="collapse">
  <li><a href="#h1n1_concern" id="toc-h1n1_concern" class="nav-link" data-scroll-target="#h1n1_concern"><code>h1n1_concern</code></a></li>
  <li><a href="#h1n1_knowledge" id="toc-h1n1_knowledge" class="nav-link" data-scroll-target="#h1n1_knowledge"><code>h1n1_knowledge</code></a></li>
  <li><a href="#opinion_h1n1_vacc_effective" id="toc-opinion_h1n1_vacc_effective" class="nav-link" data-scroll-target="#opinion_h1n1_vacc_effective"><code>opinion_h1n1_vacc_effective</code></a></li>
  <li><a href="#opinion_h1n1_risk" id="toc-opinion_h1n1_risk" class="nav-link" data-scroll-target="#opinion_h1n1_risk"><code>opinion_h1n1_risk</code></a></li>
  <li><a href="#opinion_h1n1_sick_from_vacc" id="toc-opinion_h1n1_sick_from_vacc" class="nav-link" data-scroll-target="#opinion_h1n1_sick_from_vacc"><code>opinion_h1n1_sick_from_vacc</code></a></li>
  <li><a href="#opinion_seas_vacc_effective" id="toc-opinion_seas_vacc_effective" class="nav-link" data-scroll-target="#opinion_seas_vacc_effective"><code>opinion_seas_vacc_effective</code></a></li>
  <li><a href="#opinion_seas_risk" id="toc-opinion_seas_risk" class="nav-link" data-scroll-target="#opinion_seas_risk"><code>opinion_seas_risk</code></a></li>
  <li><a href="#opinion_seas_sick_from_vacc" id="toc-opinion_seas_sick_from_vacc" class="nav-link" data-scroll-target="#opinion_seas_sick_from_vacc"><code>opinion_seas_sick_from_vacc</code></a></li>
  <li><a href="#age_group" id="toc-age_group" class="nav-link" data-scroll-target="#age_group"><code>age_group</code></a></li>
  <li><a href="#education" id="toc-education" class="nav-link" data-scroll-target="#education"><code>education</code></a></li>
  <li><a href="#race" id="toc-race" class="nav-link" data-scroll-target="#race"><code>race</code></a></li>
  <li><a href="#sex" id="toc-sex" class="nav-link" data-scroll-target="#sex"><code>sex</code></a></li>
  <li><a href="#income_poverty" id="toc-income_poverty" class="nav-link" data-scroll-target="#income_poverty"><code>income_poverty</code></a></li>
  <li><a href="#marital_status" id="toc-marital_status" class="nav-link" data-scroll-target="#marital_status"><code>marital_status</code></a></li>
  <li><a href="#rent_or_own" id="toc-rent_or_own" class="nav-link" data-scroll-target="#rent_or_own"><code>rent_or_own</code></a></li>
  <li><a href="#employment_status" id="toc-employment_status" class="nav-link" data-scroll-target="#employment_status"><code>employment_status</code></a></li>
  <li><a href="#hhs_geo_region" id="toc-hhs_geo_region" class="nav-link" data-scroll-target="#hhs_geo_region"><code>hhs_geo_region</code></a></li>
  <li><a href="#census_msa" id="toc-census_msa" class="nav-link" data-scroll-target="#census_msa"><code>census_msa</code></a></li>
  <li><a href="#household_adults" id="toc-household_adults" class="nav-link" data-scroll-target="#household_adults"><code>household_adults</code></a></li>
  <li><a href="#household_children" id="toc-household_children" class="nav-link" data-scroll-target="#household_children"><code>household_children</code></a></li>
  <li><a href="#employment_industry" id="toc-employment_industry" class="nav-link" data-scroll-target="#employment_industry"><code>employment_industry</code></a></li>
  <li><a href="#employment_occupation" id="toc-employment_occupation" class="nav-link" data-scroll-target="#employment_occupation"><code>employment_occupation</code></a></li>
  </ul></li>
  </ul></li>
  <li><a href="#training_set_labels-dataset" id="toc-training_set_labels-dataset" class="nav-link" data-scroll-target="#training_set_labels-dataset"><code>training_set_labels</code> Dataset</a>
  <ul>
  <li><a href="#setting-column-type-for-training_set_labels-dataset" id="toc-setting-column-type-for-training_set_labels-dataset" class="nav-link" data-scroll-target="#setting-column-type-for-training_set_labels-dataset">Setting Column Type for <code>training_set_labels</code> Dataset</a></li>
  </ul></li>
  <li><a href="#training_set_features-dataset" id="toc-training_set_features-dataset" class="nav-link" data-scroll-target="#training_set_features-dataset"><code>training_set_features</code> Dataset</a>
  <ul>
  <li><a href="#setting-column-type-for-training_set_features-dataset" id="toc-setting-column-type-for-training_set_features-dataset" class="nav-link" data-scroll-target="#setting-column-type-for-training_set_features-dataset">Setting Column Type for <code>training_set_features</code> Dataset</a></li>
  <li><a href="#set-up-some-factor-levels-for-categorical-variables-1" id="toc-set-up-some-factor-levels-for-categorical-variables-1" class="nav-link" data-scroll-target="#set-up-some-factor-levels-for-categorical-variables-1">Set up some factor levels for categorical variables:</a>
  <ul class="collapse">
  <li><a href="#h1n1_concern-1" id="toc-h1n1_concern-1" class="nav-link" data-scroll-target="#h1n1_concern-1"><code>h1n1_concern</code></a></li>
  <li><a href="#h1n1_knowledge-1" id="toc-h1n1_knowledge-1" class="nav-link" data-scroll-target="#h1n1_knowledge-1"><code>h1n1_knowledge</code></a></li>
  <li><a href="#opinion_h1n1_vacc_effective-1" id="toc-opinion_h1n1_vacc_effective-1" class="nav-link" data-scroll-target="#opinion_h1n1_vacc_effective-1"><code>opinion_h1n1_vacc_effective</code></a></li>
  <li><a href="#opinion_h1n1_risk-1" id="toc-opinion_h1n1_risk-1" class="nav-link" data-scroll-target="#opinion_h1n1_risk-1"><code>opinion_h1n1_risk</code></a></li>
  <li><a href="#opinion_h1n1_sick_from_vacc-1" id="toc-opinion_h1n1_sick_from_vacc-1" class="nav-link" data-scroll-target="#opinion_h1n1_sick_from_vacc-1"><code>opinion_h1n1_sick_from_vacc</code></a></li>
  <li><a href="#opinion_seas_vacc_effective-1" id="toc-opinion_seas_vacc_effective-1" class="nav-link" data-scroll-target="#opinion_seas_vacc_effective-1"><code>opinion_seas_vacc_effective</code></a></li>
  <li><a href="#opinion_seas_risk-1" id="toc-opinion_seas_risk-1" class="nav-link" data-scroll-target="#opinion_seas_risk-1"><code>opinion_seas_risk</code></a></li>
  <li><a href="#opinion_seas_sick_from_vacc-1" id="toc-opinion_seas_sick_from_vacc-1" class="nav-link" data-scroll-target="#opinion_seas_sick_from_vacc-1"><code>opinion_seas_sick_from_vacc</code></a></li>
  <li><a href="#age_group-1" id="toc-age_group-1" class="nav-link" data-scroll-target="#age_group-1"><code>age_group</code></a></li>
  <li><a href="#education-1" id="toc-education-1" class="nav-link" data-scroll-target="#education-1"><code>education</code></a></li>
  <li><a href="#race-1" id="toc-race-1" class="nav-link" data-scroll-target="#race-1"><code>race</code></a></li>
  <li><a href="#sex-1" id="toc-sex-1" class="nav-link" data-scroll-target="#sex-1"><code>sex</code></a></li>
  <li><a href="#income_poverty-1" id="toc-income_poverty-1" class="nav-link" data-scroll-target="#income_poverty-1"><code>income_poverty</code></a></li>
  <li><a href="#marital_status-1" id="toc-marital_status-1" class="nav-link" data-scroll-target="#marital_status-1"><code>marital_status</code></a></li>
  <li><a href="#rent_or_own-1" id="toc-rent_or_own-1" class="nav-link" data-scroll-target="#rent_or_own-1"><code>rent_or_own</code></a></li>
  <li><a href="#employment_status-1" id="toc-employment_status-1" class="nav-link" data-scroll-target="#employment_status-1"><code>employment_status</code></a></li>
  <li><a href="#hhs_geo_region-1" id="toc-hhs_geo_region-1" class="nav-link" data-scroll-target="#hhs_geo_region-1"><code>hhs_geo_region</code></a></li>
  <li><a href="#census_msa-1" id="toc-census_msa-1" class="nav-link" data-scroll-target="#census_msa-1"><code>census_msa</code></a></li>
  <li><a href="#household_adults-1" id="toc-household_adults-1" class="nav-link" data-scroll-target="#household_adults-1"><code>household_adults</code></a></li>
  <li><a href="#household_children-1" id="toc-household_children-1" class="nav-link" data-scroll-target="#household_children-1"><code>household_children</code></a></li>
  <li><a href="#employment_industry-1" id="toc-employment_industry-1" class="nav-link" data-scroll-target="#employment_industry-1"><code>employment_industry</code></a></li>
  <li><a href="#employment_occupation-1" id="toc-employment_occupation-1" class="nav-link" data-scroll-target="#employment_occupation-1"><code>employment_occupation</code></a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  <li><a href="#combine-the-training_set_labels-and-training_set_features-dataset-together." id="toc-combine-the-training_set_labels-and-training_set_features-dataset-together." class="nav-link" data-scroll-target="#combine-the-training_set_labels-and-training_set_features-dataset-together.">Combine the <code>training_set_labels</code> and <code>training_set_features</code> dataset together.</a>
  <ul>
  <li><a href="#check-to-make-sure-the-keys-are-unique" id="toc-check-to-make-sure-the-keys-are-unique" class="nav-link" data-scroll-target="#check-to-make-sure-the-keys-are-unique">check to make sure the keys are unique</a></li>
  <li><a href="#check-if-there-are-missing-value-for-keys" id="toc-check-if-there-are-missing-value-for-keys" class="nav-link" data-scroll-target="#check-if-there-are-missing-value-for-keys">Check if there are missing value for keys</a></li>
  <li><a href="#join-the-dataset-with-an-inner-join" id="toc-join-the-dataset-with-an-inner-join" class="nav-link" data-scroll-target="#join-the-dataset-with-an-inner-join">Join the dataset with an Inner Join</a></li>
  </ul></li>
  <li><a href="#storing-the-cleaned-datasets" id="toc-storing-the-cleaned-datasets" class="nav-link" data-scroll-target="#storing-the-cleaned-datasets">Storing the cleaned datasets</a>
  <ul>
  <li><a href="#make-sure-the-data-set-are-formatted-correctly" id="toc-make-sure-the-data-set-are-formatted-correctly" class="nav-link" data-scroll-target="#make-sure-the-data-set-are-formatted-correctly">Make sure the data set are formatted correctly</a></li>
  <li><a href="#storing-in-parquet-file-format" id="toc-storing-in-parquet-file-format" class="nav-link" data-scroll-target="#storing-in-parquet-file-format">Storing in Parquet file format</a>
  <ul>
  <li><a href="#training_set_labels" id="toc-training_set_labels" class="nav-link" data-scroll-target="#training_set_labels"><code>training_set_labels</code></a></li>
  <li><a href="#training_set_features" id="toc-training_set_features" class="nav-link" data-scroll-target="#training_set_features"><code>training_set_features</code></a></li>
  <li><a href="#training_set" id="toc-training_set" class="nav-link" data-scroll-target="#training_set"><code>training_set</code></a></li>
  <li><a href="#submission_format" id="toc-submission_format" class="nav-link" data-scroll-target="#submission_format"><code>submission_format</code></a></li>
  <li><a href="#test_set_features" id="toc-test_set_features" class="nav-link" data-scroll-target="#test_set_features"><code>test_set_features</code></a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data Import</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Quoc Anh Doan </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="setup" class="level2">
<h2 class="anchored" data-anchor-id="setup">Setup</h2>
<section id="set-the-seed-for-reproducibility" class="level3">
<h3 class="anchored" data-anchor-id="set-the-seed-for-reproducibility">Set the Seed for reproducibility</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="library" class="level3">
<h3 class="anchored" data-anchor-id="library">library</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.1     ✔ tibble    3.2.1
✔ lubridate 1.9.4     ✔ tidyr     1.3.1
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
</div>
</section>
</section>
<section id="import" class="level2">
<h2 class="anchored" data-anchor-id="import">Import</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>submission_format <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/given_data/submission_format.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 26708 Columns: 3
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
dbl (3): respondent_id, h1n1_vaccine, seasonal_vaccine

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/given_data/test_set_features.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 26708 Columns: 36
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (12): age_group, education, race, sex, income_poverty, marital_status, r...
dbl (24): respondent_id, h1n1_concern, h1n1_knowledge, behavioral_antiviral_...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/given_data/training_set_features.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 26707 Columns: 36
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (12): age_group, education, race, sex, income_poverty, marital_status, r...
dbl (24): respondent_id, h1n1_concern, h1n1_knowledge, behavioral_antiviral_...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>training_set_labels <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/given_data/training_set_labels.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 26707 Columns: 3
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
dbl (3): respondent_id, h1n1_vaccine, seasonal_vaccine

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
</div>
</section>
<section id="clean-column-names" class="level2">
<h2 class="anchored" data-anchor-id="clean-column-names">Clean Column Names</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>submission_format <span class="ot">&lt;-</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  submission_format <span class="sc">|&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>()</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>()</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> </span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>()</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>training_set_labels <span class="ot">&lt;-</span> </span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>  training_set_labels <span class="sc">|&gt;</span> </span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
<section id="data-column-format" class="level2">
<h2 class="anchored" data-anchor-id="data-column-format">Data Column Format</h2>
<section id="submission_format-dataset" class="level3">
<h3 class="anchored" data-anchor-id="submission_format-dataset"><code>submission_format</code> Dataset</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span>(submission_format)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>cols(
  respondent_id = col_double(),
  h1n1_vaccine = col_double(),
  seasonal_vaccine = col_double()
)</code></pre>
</div>
</div>
<p><code>respondent_id</code> doesn’t represent anything numerically. It’s like car license plate or social security number. It should be <code>col_character()</code>.</p>
<p>The format for the submission file is three columns: <code>respondent_id</code>, <code>h1n1_vaccine</code>, and <code>seasonal_vaccine</code>. The predictions for the two target variables should be float probabilities that range between 0.0 and 1.0. Because the competition uses ROC AUC as its evaluation metric, the values you submit must be the probabilities that a person received each vaccine, not binary labels.</p>
<p>So the column type for <code>h1n1_vaccine</code> and <code>seasonal_vaccine</code> should be <code>col_double()</code>.</p>
<section id="setting-column-type-for-submission_format-dataset" class="level4">
<h4 class="anchored" data-anchor-id="setting-column-type-for-submission_format-dataset">Setting Column Type for <code>submission_format</code> Dataset</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>submission_format <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"data/given_data/submission_format.csv"</span>,</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_types =</span> <span class="fu">list</span>(  </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">respondent_id =</span> <span class="fu">col_character</span>(),</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">h1n1_vaccine =</span> <span class="fu">col_double</span>(),</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">seasonal_vaccine =</span> <span class="fu">col_double</span>()</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Double check that the format is correct:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span>(submission_format)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>cols(
  respondent_id = col_character(),
  h1n1_vaccine = col_double(),
  seasonal_vaccine = col_double()
)</code></pre>
</div>
</div>
<p>Good.</p>
<hr>
</section>
</section>
<section id="test_set_features-dataset" class="level3">
<h3 class="anchored" data-anchor-id="test_set_features-dataset"><code>test_set_features</code> Dataset</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span>(test_set_features)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>cols(
  respondent_id = col_double(),
  h1n1_concern = col_double(),
  h1n1_knowledge = col_double(),
  behavioral_antiviral_meds = col_double(),
  behavioral_avoidance = col_double(),
  behavioral_face_mask = col_double(),
  behavioral_wash_hands = col_double(),
  behavioral_large_gatherings = col_double(),
  behavioral_outside_home = col_double(),
  behavioral_touch_face = col_double(),
  doctor_recc_h1n1 = col_double(),
  doctor_recc_seasonal = col_double(),
  chronic_med_condition = col_double(),
  child_under_6_months = col_double(),
  health_worker = col_double(),
  health_insurance = col_double(),
  opinion_h1n1_vacc_effective = col_double(),
  opinion_h1n1_risk = col_double(),
  opinion_h1n1_sick_from_vacc = col_double(),
  opinion_seas_vacc_effective = col_double(),
  opinion_seas_risk = col_double(),
  opinion_seas_sick_from_vacc = col_double(),
  age_group = col_character(),
  education = col_character(),
  race = col_character(),
  sex = col_character(),
  income_poverty = col_character(),
  marital_status = col_character(),
  rent_or_own = col_character(),
  employment_status = col_character(),
  hhs_geo_region = col_character(),
  census_msa = col_character(),
  household_adults = col_double(),
  household_children = col_double(),
  employment_industry = col_character(),
  employment_occupation = col_character()
)</code></pre>
</div>
</div>
<section id="the-features-in-this-dataset" class="level4">
<h4 class="anchored" data-anchor-id="the-features-in-this-dataset">The features in this dataset</h4>
<p>You are provided a dataset with 36 columns. The first column respondent_id is a unique and random identifier. The remaining 35 features are described below.</p>
<p>Check that it’s 36 columns:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(test_set_features)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 36</code></pre>
</div>
</div>
<p>For all binary variables: <code>0</code> = No; <code>1</code> = Yes.</p>
<ul>
<li><code>h1n1_concern</code> - Level of concern about the H1N1 flu.
<ul>
<li><code>0</code> = Not at all concerned</li>
<li><code>1</code> = Not very concerned</li>
<li><code>2</code> = Somewhat concerned</li>
<li><code>3</code> = Very concerned</li>
</ul></li>
<li><code>h1n1_knowledge</code> - Level of knowledge about H1N1 flu.
<ul>
<li><code>0</code> = No knowledge</li>
<li><code>1</code> = A little knowledge</li>
<li><code>2</code> = A lot of knowledge</li>
</ul></li>
<li><code>behavioral_antiviral_meds</code> - Has taken antiviral medications. (<em>binary</em>)</li>
<li><code>behavioral_avoidance</code> - Has avoided close contact with others with flu-like symptoms. (<em>binary</em>)</li>
<li><code>behavioral_face_mask</code> - Has bought a face mask. (<em>binary</em>)</li>
<li><code>behavioral_wash_hands</code> - Has frequently washed hands or used hand sanitizer. (<em>binary</em>)</li>
<li><code>behavioral_large_gatherings</code> - Has reduced time at large gatherings. (<em>binary</em>)</li>
<li><code>behavioral_outside_home</code> - Has reduced contact with people outside of own household. (<em>binary</em>)</li>
<li><code>behavioral_touch_face</code> - Has avoided touching eyes, nose, or mouth. (<em>binary</em>)</li>
<li><code>doctor_recc_h1n1</code> - H1N1 flu vaccine was recommended by doctor. (<em>binary</em>)</li>
<li><code>doctor_recc_seasonal</code> - Seasonal flu vaccine was recommended by doctor. (<em>binary</em>)</li>
<li><code>chronic_med_condition</code> - Has any of the following chronic medical conditions: asthma or an other lung condition, diabetes, a heart condition, a kidney condition, sickle cell anemia or other anemia, a neurological or neuromuscular condition, a liver condition, or a weakened immune system caused by a chronic illness or by medicines taken for a chronic illness. (<em>binary</em>)</li>
<li><code>child_under_6_months</code> - Has regular close contact with a child under the age of six months. (<em>binary</em>)</li>
<li><code>health_worker</code> - Is a healthcare worker. (<em>binary</em>)</li>
<li><code>health_insurance</code> - Has health insurance. (<em>binary</em>)</li>
<li><code>opinion_h1n1_vacc_effective</code> - Respondent’s opinion about H1N1 vaccine effectiveness.
<ul>
<li><code>1</code> = Not at all effective</li>
<li><code>2</code> = Not very effective</li>
<li><code>3</code> = Don’t know</li>
<li><code>4</code> = Somewhat effective</li>
<li><code>5</code> = Very effective</li>
</ul></li>
<li><code>opinion_h1n1_risk</code> - Respondent’s opinion about risk of getting sick with H1N1 flu without vaccine.
<ul>
<li><code>1</code> = Very Low</li>
<li><code>2</code> = Somewhat low</li>
<li><code>3</code> = Don’t know</li>
<li><code>4</code> = Somewhat high</li>
<li><code>5</code> = Very high</li>
</ul></li>
<li><code>opinion_h1n1_sick_from_vacc</code> - Respondent’s worry of getting sick from taking H1N1 vaccine.
<ul>
<li><code>1</code> = Not at all worried</li>
<li><code>2</code> = Not very worried</li>
<li><code>3</code> = Don’t know</li>
<li><code>4</code> = Somewhat worried</li>
<li><code>5</code> = Very worried</li>
</ul></li>
<li><code>opinion_seas_vacc_effective</code> - Respondent’s opinion about seasonal flu vaccine effectiveness.
<ul>
<li><code>1</code> = Not at all effective</li>
<li><code>2</code> = Not very effective</li>
<li><code>3</code> = Don’t know</li>
<li><code>4</code> = Somewhat effective</li>
<li><code>5</code> = Very effective</li>
</ul></li>
<li><code>opinion_seas_risk</code> - Respondent’s opinion about risk of getting sick with seasonal flu without vaccine.
<ul>
<li><code>1</code> = Very Low</li>
<li><code>2</code> = Somewhat low</li>
<li><code>3</code> = Don’t know</li>
<li><code>4</code> = Somewhat high</li>
<li><code>5</code> = Very high</li>
</ul></li>
<li><code>opinion_seas_sick_from_vacc</code> - Respondent’s worry of getting sick from taking seasonal flu vaccine.
<ul>
<li><code>1</code> = Not at all worried</li>
<li><code>2</code> = Not very worried</li>
<li><code>3</code> = Don’t know</li>
<li><code>4</code> = Somewhat worried</li>
<li><code>5</code> = Very worried</li>
</ul></li>
<li><code>age_group</code> - Age group of respondent.</li>
<li><code>education</code> - Self-reported education level.</li>
<li><code>race</code> - Race of respondent.</li>
<li><code>sex</code> - Sex of respondent.</li>
<li><code>income_poverty</code> - Household annual income of respondent with respect to 2008 Census poverty thresholds.</li>
<li><code>marital_status</code> - Marital status of respondent.</li>
<li><code>rent_or_own</code> - Housing situation of respondent.</li>
<li><code>employment_status</code> - Employment status of respondent.</li>
<li><code>hhs_geo_region</code> - Respondent’s residence using a 10-region geographic classification defined by the U.S. Dept. of Health and Human Services. Values are represented as short random character strings.</li>
<li><code>census_msa</code> - Respondent’s residence within metropolitan statistical areas (MSA) as defined by the U.S. Census.</li>
<li><code>household_adults</code> - Number of other adults in household, top-coded to 3.</li>
<li><code>household_children</code> - Number of children in household, top-coded to 3.</li>
<li><code>employment_industry</code> - Type of industry respondent is employed in. Values are represented as short random character strings.</li>
<li><code>employment_occupation</code> - Type of occupation of respondent. Values are represented as short random character strings.</li>
</ul>
</section>
<section id="setting-column-type-for-test_set_features-dataset" class="level4">
<h4 class="anchored" data-anchor-id="setting-column-type-for-test_set_features-dataset">Setting Column Type for <code>test_set_features</code> Dataset</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"data/given_data/test_set_features.csv"</span>,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_types =</span> <span class="fu">list</span>(  </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">respondent_id =</span> <span class="fu">col_character</span>(),</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">h1n1_concern =</span> <span class="fu">col_integer</span>(),</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">h1n1_knowledge =</span> <span class="fu">col_integer</span>(),</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">behavioral_antiviral_meds =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">behavioral_avoidance =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">behavioral_face_mask =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">behavioral_wash_hands =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">behavioral_large_gatherings =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">behavioral_outside_home =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">behavioral_touch_face =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">doctor_recc_h1n1 =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">doctor_recc_seasonal =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">chronic_med_condition =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">child_under_6_months =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">health_worker =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">health_insurance =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_h1n1_vacc_effective =</span> <span class="fu">col_integer</span>(),</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_h1n1_risk =</span> <span class="fu">col_integer</span>(),</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_h1n1_sick_from_vacc =</span> <span class="fu">col_integer</span>(),</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_seas_vacc_effective =</span> <span class="fu">col_integer</span>(),</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_seas_risk =</span> <span class="fu">col_integer</span>(),</span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_seas_sick_from_vacc =</span> <span class="fu">col_integer</span>(),</span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_group =</span> <span class="fu">col_character</span>(),</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">education =</span> <span class="fu">col_character</span>(),</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">race =</span> <span class="fu">col_character</span>(),</span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">sex =</span> <span class="fu">col_character</span>(),</span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">income_poverty =</span> <span class="fu">col_character</span>(),</span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">marital_status =</span> <span class="fu">col_character</span>(),</span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">rent_or_own =</span> <span class="fu">col_character</span>(),</span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">employment_status =</span> <span class="fu">col_character</span>(),</span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">hhs_geo_region =</span> <span class="fu">col_character</span>(),</span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">census_msa =</span> <span class="fu">col_character</span>(),</span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">household_adults =</span> <span class="fu">col_character</span>(),</span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">household_children =</span> <span class="fu">col_character</span>(),</span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">employment_industry =</span> <span class="fu">col_character</span>(),</span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">employment_occupation =</span> <span class="fu">col_character</span>()</span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="do-i-want-these-as-factors-or-stringscharacters" class="level4">
<h4 class="anchored" data-anchor-id="do-i-want-these-as-factors-or-stringscharacters">Do I want these as factors or strings/characters?</h4>
<ul>
<li><code>hhs_geo_region</code></li>
<li><code>employment_industry</code></li>
<li><code>employment_occupation</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(hhs_geo_region)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 1
   hhs_geo_region
   &lt;chr&gt;         
 1 mlyzmhmf      
 2 bhuqouqj      
 3 lrircsnp      
 4 lzgpxyit      
 5 fpwskwrf      
 6 oxchjgsf      
 7 dqpwygqj      
 8 qufhixun      
 9 kbazzjca      
10 atmpeygn      </code></pre>
</div>
</div>
<p>10 regions in a data set of 26,708 rows (including header). Factor is okay.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(employment_industry)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 22 × 1
   employment_industry
   &lt;chr&gt;              
 1 atmlpfrs           
 2 nduyfdeo           
 3 &lt;NA&gt;               
 4 fcxhlnwr           
 5 pxcmvdjn           
 6 arjwrbjb           
 7 mfikgejo           
 8 rucpziij           
 9 wxleyezf           
10 haxffmxo           
# ℹ 12 more rows</code></pre>
</div>
</div>
<p>22 possible values in a dataset with 26,708 rows (including header). Factor is okay.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(employment_occupation)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24 × 1
   employment_occupation
   &lt;chr&gt;                
 1 hfxkjkmi             
 2 xqwwgdyp             
 3 pvmttkik             
 4 &lt;NA&gt;                 
 5 mxkfnird             
 6 cmhcxjea             
 7 xgwztkwe             
 8 tfqavkke             
 9 vlluhbov             
10 dcjcmpih             
# ℹ 14 more rows</code></pre>
</div>
</div>
<p>24 possible values in a dataset with 26,708 rows (including header). Factor is okay.</p>
</section>
<section id="set-up-some-factor-levels-for-categorical-variables" class="level4">
<h4 class="anchored" data-anchor-id="set-up-some-factor-levels-for-categorical-variables">Set up some factor levels for categorical variables:</h4>
<section id="h1n1_concern" class="level5">
<h5 class="anchored" data-anchor-id="h1n1_concern"><code>h1n1_concern</code></h5>
<ul>
<li><code>h1n1_concern</code> - Level of concern about the H1N1 flu.
<ul>
<li><code>0</code> = Not at all concerned</li>
<li><code>1</code> = Not very concerned</li>
<li><code>2</code> = Somewhat concerned</li>
<li><code>3</code> = Very concerned</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span> <span class="fu">distinct</span>(h1n1_concern) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 1
  h1n1_concern
         &lt;int&gt;
1            2
2            1
3            3
4            0
5           NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>h1n1_concern_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Not at all concerned'</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Not very concerned'</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Somewhat concerned'</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Very concerned'</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> </span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">h1n1_concern =</span> </span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>           <span class="fu">case_when</span> (</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>              h1n1_concern <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">'Not at all concerned'</span>,</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>              h1n1_concern <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'Not very concerned'</span>,</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>              h1n1_concern <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">'Somewhat concerned'</span>,</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>              h1n1_concern <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">'Very concerned'</span>,</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>              <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(h1n1_concern)</span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">h1n1_concern =</span> </span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>             h1n1_concern,</span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>             <span class="at">levels =</span> h1n1_concern_levels</span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span> <span class="fu">count</span>(h1n1_concern)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  h1n1_concern             n
  &lt;fct&gt;                &lt;int&gt;
1 Not at all concerned  3199
2 Not very concerned    8158
3 Somewhat concerned   10743
4 Very concerned        4523
5 &lt;NA&gt;                    85</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(test_set_features<span class="sc">$</span>h1n1_concern)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Not at all concerned" "Not very concerned"   "Somewhat concerned"  
[4] "Very concerned"      </code></pre>
</div>
</div>
<hr>
</section>
<section id="h1n1_knowledge" class="level5">
<h5 class="anchored" data-anchor-id="h1n1_knowledge"><code>h1n1_knowledge</code></h5>
<ul>
<li><p><code>h1n1_knowledge</code> - Level of knowledge about H1N1 flu.</p>
<ul>
<li><code>0</code> = No knowledge</li>
<li><code>1</code> = A little knowledge</li>
<li><code>2</code> = A lot of knowledge</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span> <span class="fu">distinct</span>(h1n1_knowledge) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 1
  h1n1_knowledge
           &lt;int&gt;
1              2
2              1
3              0
4             NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>h1n1_knowledge_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'No knowledge'</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'A little knowledge'</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'A lot of knowledge'</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> </span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">h1n1_knowledge =</span> </span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>           <span class="fu">case_when</span> (</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>              h1n1_knowledge <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">'No knowledge'</span>,</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>              h1n1_knowledge <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'A little knowledge'</span>,</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>              h1n1_knowledge <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">'A lot of knowledge'</span>,</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>              <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(h1n1_knowledge)</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">h1n1_knowledge =</span> </span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>             h1n1_knowledge,</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>             <span class="at">levels =</span> h1n1_knowledge_levels</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
</ul>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span> <span class="fu">count</span>(h1n1_knowledge)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  h1n1_knowledge         n
  &lt;fct&gt;              &lt;int&gt;
1 No knowledge        2442
2 A little knowledge 14629
3 A lot of knowledge  9515
4 &lt;NA&gt;                 122</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(test_set_features<span class="sc">$</span>h1n1_knowledge)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "No knowledge"       "A little knowledge" "A lot of knowledge"</code></pre>
</div>
</div>
<hr>
</section>
<section id="opinion_h1n1_vacc_effective" class="level5">
<h5 class="anchored" data-anchor-id="opinion_h1n1_vacc_effective"><code>opinion_h1n1_vacc_effective</code></h5>
<ul>
<li><code>opinion_h1n1_vacc_effective</code> - Respondent’s opinion about H1N1 vaccine effectiveness.
<ul>
<li><code>1</code> = Not at all effective</li>
<li><code>2</code> = Not very effective</li>
<li><code>3</code> = Don’t know</li>
<li><code>4</code> = Somewhat effective</li>
<li><code>5</code> = Very effective</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>    opinion_h1n1_vacc_effective</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 1
  opinion_h1n1_vacc_effective
                        &lt;int&gt;
1                           5
2                           4
3                           3
4                           2
5                           1
6                          NA</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>opinion_h1n1_vacc_effective_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Not at all effective'</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Not very effective'</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Don’t know'</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Somewhat effective'</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Very effective'</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> </span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_h1n1_vacc_effective =</span> </span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">case_when</span> (</span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>        opinion_h1n1_vacc_effective <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'Not at all effective'</span>,</span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>        opinion_h1n1_vacc_effective <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">'Not very effective'</span>,</span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>        opinion_h1n1_vacc_effective <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">'Don’t know'</span>,</span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>        opinion_h1n1_vacc_effective <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">'Somewhat effective'</span>,</span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>        opinion_h1n1_vacc_effective <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">'Very effective'</span>,</span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(opinion_h1n1_vacc_effective)</span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">opinion_h1n1_vacc_effective =</span> </span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a>             opinion_h1n1_vacc_effective,</span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a>             <span class="at">levels =</span> opinion_h1n1_vacc_effective_levels </span>
<span id="cb45-25"><a href="#cb45-25" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span> </span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(opinion_h1n1_vacc_effective)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  opinion_h1n1_vacc_effective     n
  &lt;fct&gt;                       &lt;int&gt;
1 Not at all effective          921
2 Not very effective           1800
3 Don’t know                   4790
4 Somewhat effective          11734
5 Very effective               7065
6 &lt;NA&gt;                          398</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(test_set_features<span class="sc">$</span>opinion_h1n1_vacc_effective)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Not at all effective" "Not very effective"   "Don’t know"          
[4] "Somewhat effective"   "Very effective"      </code></pre>
</div>
</div>
<hr>
</section>
<section id="opinion_h1n1_risk" class="level5">
<h5 class="anchored" data-anchor-id="opinion_h1n1_risk"><code>opinion_h1n1_risk</code></h5>
<ul>
<li><code>opinion_h1n1_risk</code> - Respondent’s opinion about risk of getting sick with H1N1 flu without vaccine.
<ul>
<li><code>1</code> = Very Low</li>
<li><code>2</code> = Somewhat low</li>
<li><code>3</code> = Don’t know</li>
<li><code>4</code> = Somewhat high</li>
<li><code>5</code> = Very high</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>    opinion_h1n1_risk</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 1
  opinion_h1n1_risk
              &lt;int&gt;
1                 1
2                 4
3                 2
4                NA
5                 3
6                 5</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>opinion_h1n1_risk_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Very Low'</span>,</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Somewhat low'</span>,</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Don’t know'</span>,</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Somewhat high'</span>,</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Very high'</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> </span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_h1n1_risk =</span> </span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">case_when</span> (</span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>       opinion_h1n1_risk  <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'Very Low'</span>,</span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>       opinion_h1n1_risk  <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">'Somewhat low'</span>,</span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>       opinion_h1n1_risk  <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">'Don’t know'</span>,</span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a>       opinion_h1n1_risk  <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">'Somewhat high'</span>,</span>
<span id="cb52-18"><a href="#cb52-18" aria-hidden="true" tabindex="-1"></a>       opinion_h1n1_risk  <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">'Very high'</span>,</span>
<span id="cb52-19"><a href="#cb52-19" aria-hidden="true" tabindex="-1"></a>       <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(opinion_h1n1_risk)</span>
<span id="cb52-20"><a href="#cb52-20" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb52-21"><a href="#cb52-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">opinion_h1n1_risk =</span> </span>
<span id="cb52-22"><a href="#cb52-22" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb52-23"><a href="#cb52-23" aria-hidden="true" tabindex="-1"></a>             opinion_h1n1_risk,</span>
<span id="cb52-24"><a href="#cb52-24" aria-hidden="true" tabindex="-1"></a>             <span class="at">levels =</span> opinion_h1n1_risk_levels </span>
<span id="cb52-25"><a href="#cb52-25" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span> </span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(opinion_h1n1_risk)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  opinion_h1n1_risk     n
  &lt;fct&gt;             &lt;int&gt;
1 Very Low           8207
2 Somewhat low       9942
3 Don’t know         1230
4 Somewhat high      5265
5 Very high          1684
6 &lt;NA&gt;                380</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(test_set_features<span class="sc">$</span>opinion_h1n1_risk)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Very Low"      "Somewhat low"  "Don’t know"    "Somewhat high"
[5] "Very high"    </code></pre>
</div>
</div>
<hr>
</section>
<section id="opinion_h1n1_sick_from_vacc" class="level5">
<h5 class="anchored" data-anchor-id="opinion_h1n1_sick_from_vacc"><code>opinion_h1n1_sick_from_vacc</code></h5>
<ul>
<li><code>opinion_h1n1_sick_from_vacc</code> - Respondent’s worry of getting sick from taking H1N1 vaccine.
<ul>
<li><code>1</code> = Not at all worried</li>
<li><code>2</code> = Not very worried</li>
<li><code>3</code> = Don’t know</li>
<li><code>4</code> = Somewhat worried</li>
<li><code>5</code> = Very worried</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>    opinion_h1n1_sick_from_vacc </span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 1
  opinion_h1n1_sick_from_vacc
                        &lt;int&gt;
1                           1
2                           2
3                           4
4                           5
5                          NA
6                           3</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>opinion_h1n1_sick_from_vacc_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Not at all worried'</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Not very worried'</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Don’t know'</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Somewhat worried'</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Very worried'</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> </span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_h1n1_sick_from_vacc =</span> </span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">case_when</span> (</span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>        opinion_h1n1_sick_from_vacc <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'Not at all worried'</span>,</span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>        opinion_h1n1_sick_from_vacc <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">'Not very worried'</span>,</span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>        opinion_h1n1_sick_from_vacc <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">'Don’t know'</span>,</span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a>        opinion_h1n1_sick_from_vacc <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">'Somewhat worried'</span>,</span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a>        opinion_h1n1_sick_from_vacc <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">'Very worried'</span>,</span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(opinion_h1n1_sick_from_vacc)</span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-22"><a href="#cb59-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_h1n1_sick_from_vacc =</span></span>
<span id="cb59-23"><a href="#cb59-23" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb59-24"><a href="#cb59-24" aria-hidden="true" tabindex="-1"></a>              opinion_h1n1_sick_from_vacc,</span>
<span id="cb59-25"><a href="#cb59-25" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> opinion_h1n1_sick_from_vacc_levels</span>
<span id="cb59-26"><a href="#cb59-26" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span> </span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(opinion_h1n1_sick_from_vacc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  opinion_h1n1_sick_from_vacc     n
  &lt;fct&gt;                       &lt;int&gt;
1 Not at all worried           8935
2 Not very worried             9177
3 Don’t know                    161
4 Somewhat worried             5910
5 Very worried                 2150
6 &lt;NA&gt;                          375</code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(test_set_features<span class="sc">$</span>opinion_h1n1_sick_from_vacc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Not at all worried" "Not very worried"   "Don’t know"        
[4] "Somewhat worried"   "Very worried"      </code></pre>
</div>
</div>
<hr>
</section>
<section id="opinion_seas_vacc_effective" class="level5">
<h5 class="anchored" data-anchor-id="opinion_seas_vacc_effective"><code>opinion_seas_vacc_effective</code></h5>
<ul>
<li><code>opinion_seas_vacc_effective</code> - Respondent’s opinion about seasonal flu vaccine effectiveness.
<ul>
<li><code>1</code> = Not at all effective</li>
<li><code>2</code> = Not very effective</li>
<li><code>3</code> = Don’t know</li>
<li><code>4</code> = Somewhat effective</li>
<li><code>5</code> = Very effective</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>    opinion_seas_vacc_effective </span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 1
  opinion_seas_vacc_effective
                        &lt;int&gt;
1                           5
2                           4
3                           3
4                           2
5                           1
6                          NA</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>opinion_seas_vacc_effective_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Not at all effective'</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Not very effective'</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Don’t know'</span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Somewhat effective'</span></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Very effective'</span></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> </span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb66-12"><a href="#cb66-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_seas_vacc_effective =</span></span>
<span id="cb66-13"><a href="#cb66-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">case_when</span> (</span>
<span id="cb66-14"><a href="#cb66-14" aria-hidden="true" tabindex="-1"></a>        opinion_seas_vacc_effective <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'Not at all effective'</span>,</span>
<span id="cb66-15"><a href="#cb66-15" aria-hidden="true" tabindex="-1"></a>        opinion_seas_vacc_effective <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">'Not very effective'</span>,</span>
<span id="cb66-16"><a href="#cb66-16" aria-hidden="true" tabindex="-1"></a>        opinion_seas_vacc_effective <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">'Don’t know'</span>,</span>
<span id="cb66-17"><a href="#cb66-17" aria-hidden="true" tabindex="-1"></a>        opinion_seas_vacc_effective <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">'Somewhat effective'</span>,</span>
<span id="cb66-18"><a href="#cb66-18" aria-hidden="true" tabindex="-1"></a>        opinion_seas_vacc_effective <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">'Very effective'</span>,</span>
<span id="cb66-19"><a href="#cb66-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(opinion_seas_vacc_effective)</span>
<span id="cb66-20"><a href="#cb66-20" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb66-21"><a href="#cb66-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb66-22"><a href="#cb66-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_seas_vacc_effective =</span> </span>
<span id="cb66-23"><a href="#cb66-23" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb66-24"><a href="#cb66-24" aria-hidden="true" tabindex="-1"></a>              opinion_seas_vacc_effective,          </span>
<span id="cb66-25"><a href="#cb66-25" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> opinion_seas_vacc_effective_levels</span>
<span id="cb66-26"><a href="#cb66-26" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span> </span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(opinion_seas_vacc_effective)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  opinion_seas_vacc_effective     n
  &lt;fct&gt;                       &lt;int&gt;
1 Not at all effective         1152
2 Not very effective           2284
3 Don’t know                   1321
4 Somewhat effective          11502
5 Very effective               9997
6 &lt;NA&gt;                          452</code></pre>
</div>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(test_set_features<span class="sc">$</span>opinion_seas_vacc_effective)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Not at all effective" "Not very effective"   "Don’t know"          
[4] "Somewhat effective"   "Very effective"      </code></pre>
</div>
</div>
<hr>
</section>
<section id="opinion_seas_risk" class="level5">
<h5 class="anchored" data-anchor-id="opinion_seas_risk"><code>opinion_seas_risk</code></h5>
<ul>
<li><p><code>opinion_seas_risk</code> - Respondent’s opinion about risk of getting sick with seasonal flu without vaccine.</p>
<ul>
<li><code>1</code> = Very Low</li>
<li><code>2</code> = Somewhat low</li>
<li><code>3</code> = Don’t know</li>
<li><code>4</code> = Somewhat high</li>
<li><code>5</code> = Very high</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>    opinion_seas_risk </span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 1
  opinion_seas_risk
              &lt;int&gt;
1                 1
2                 4
3                 5
4                 2
5                NA
6                 3</code></pre>
</div>
</div></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>opinion_seas_risk_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Very Low'</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Somewhat low'</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Don’t know'</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Somewhat high'</span></span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Very high'</span></span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> </span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_seas_risk =</span></span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">case_when</span> (</span>
<span id="cb73-14"><a href="#cb73-14" aria-hidden="true" tabindex="-1"></a>        opinion_seas_risk <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'Very Low'</span>,</span>
<span id="cb73-15"><a href="#cb73-15" aria-hidden="true" tabindex="-1"></a>        opinion_seas_risk <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">'Somewhat low'</span>,</span>
<span id="cb73-16"><a href="#cb73-16" aria-hidden="true" tabindex="-1"></a>        opinion_seas_risk <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">'Don’t know'</span>,</span>
<span id="cb73-17"><a href="#cb73-17" aria-hidden="true" tabindex="-1"></a>        opinion_seas_risk <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">'Somewhat high'</span>,</span>
<span id="cb73-18"><a href="#cb73-18" aria-hidden="true" tabindex="-1"></a>        opinion_seas_risk <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">'Very high'</span>,</span>
<span id="cb73-19"><a href="#cb73-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(opinion_seas_risk)</span>
<span id="cb73-20"><a href="#cb73-20" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb73-21"><a href="#cb73-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb73-22"><a href="#cb73-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_seas_risk =</span> </span>
<span id="cb73-23"><a href="#cb73-23" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb73-24"><a href="#cb73-24" aria-hidden="true" tabindex="-1"></a>              opinion_seas_risk,</span>
<span id="cb73-25"><a href="#cb73-25" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> opinion_seas_risk_levels </span>
<span id="cb73-26"><a href="#cb73-26" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(opinion_seas_risk)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  opinion_seas_risk     n
  &lt;fct&gt;             &lt;int&gt;
1 Very Low           5939
2 Somewhat low       9072
3 Don’t know          736
4 Somewhat high      7609
5 Very high          2853
6 &lt;NA&gt;                499</code></pre>
</div>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(test_set_features<span class="sc">$</span>opinion_seas_risk)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Very Low"      "Somewhat low"  "Don’t know"    "Somewhat high"
[5] "Very high"    </code></pre>
</div>
</div>
<hr>
</section>
<section id="opinion_seas_sick_from_vacc" class="level5">
<h5 class="anchored" data-anchor-id="opinion_seas_sick_from_vacc"><code>opinion_seas_sick_from_vacc</code></h5>
<ul>
<li><code>opinion_seas_sick_from_vacc</code> - Respondent’s worry of getting sick from taking seasonal flu vaccine.
<ul>
<li><code>1</code> = Not at all worried</li>
<li><code>2</code> = Not very worried</li>
<li><code>3</code> = Don’t know</li>
<li><code>4</code> = Somewhat worried</li>
<li><code>5</code> = Very worried</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>    opinion_seas_sick_from_vacc  </span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 1
  opinion_seas_sick_from_vacc
                        &lt;int&gt;
1                           1
2                           4
3                           2
4                           3
5                           5
6                          NA</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>opinion_seas_sick_from_vacc_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Not at all worried'</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Not very worried'</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Don’t know'</span></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Somewhat worried'</span></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Very worried'</span></span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-9"><a href="#cb80-9" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> </span>
<span id="cb80-10"><a href="#cb80-10" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb80-11"><a href="#cb80-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb80-12"><a href="#cb80-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_seas_sick_from_vacc =</span></span>
<span id="cb80-13"><a href="#cb80-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">case_when</span> (</span>
<span id="cb80-14"><a href="#cb80-14" aria-hidden="true" tabindex="-1"></a>        opinion_seas_sick_from_vacc <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'Not at all worried'</span>,</span>
<span id="cb80-15"><a href="#cb80-15" aria-hidden="true" tabindex="-1"></a>        opinion_seas_sick_from_vacc <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">'Not very worried'</span>,</span>
<span id="cb80-16"><a href="#cb80-16" aria-hidden="true" tabindex="-1"></a>        opinion_seas_sick_from_vacc <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">'Don’t know'</span>,</span>
<span id="cb80-17"><a href="#cb80-17" aria-hidden="true" tabindex="-1"></a>        opinion_seas_sick_from_vacc <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">'Somewhat worried'</span>,</span>
<span id="cb80-18"><a href="#cb80-18" aria-hidden="true" tabindex="-1"></a>        opinion_seas_sick_from_vacc <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">'Very worried'</span>,</span>
<span id="cb80-19"><a href="#cb80-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(opinion_seas_sick_from_vacc)  </span>
<span id="cb80-20"><a href="#cb80-20" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb80-21"><a href="#cb80-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb80-22"><a href="#cb80-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_seas_sick_from_vacc =</span></span>
<span id="cb80-23"><a href="#cb80-23" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb80-24"><a href="#cb80-24" aria-hidden="true" tabindex="-1"></a>              opinion_seas_sick_from_vacc,  </span>
<span id="cb80-25"><a href="#cb80-25" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> opinion_seas_sick_from_vacc_levels</span>
<span id="cb80-26"><a href="#cb80-26" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(opinion_seas_sick_from_vacc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  opinion_seas_sick_from_vacc     n
  &lt;fct&gt;                       &lt;int&gt;
1 Not at all worried          11577
2 Not very worried             7789
3 Don’t know                     92
4 Somewhat worried             4947
5 Very worried                 1782
6 &lt;NA&gt;                          521</code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(test_set_features<span class="sc">$</span>opinion_seas_sick_from_vacc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Not at all worried" "Not very worried"   "Don’t know"        
[4] "Somewhat worried"   "Very worried"      </code></pre>
</div>
</div>
<hr>
</section>
<section id="age_group" class="level5">
<h5 class="anchored" data-anchor-id="age_group"><code>age_group</code></h5>
<p><code>age_group</code> - Age group of respondent.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>    age_group</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 1
  age_group    
  &lt;chr&gt;        
1 35 - 44 Years
2 18 - 34 Years
3 55 - 64 Years
4 65+ Years    
5 45 - 54 Years</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>age_group_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'18 - 34 Years'</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'35 - 44 Years'</span></span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'45 - 54 Years'</span></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'55 - 64 Years'</span></span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'65+ Years'</span></span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> </span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb87-12"><a href="#cb87-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_group =</span></span>
<span id="cb87-13"><a href="#cb87-13" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb87-14"><a href="#cb87-14" aria-hidden="true" tabindex="-1"></a>              age_group,  </span>
<span id="cb87-15"><a href="#cb87-15" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> age_group_levels</span>
<span id="cb87-16"><a href="#cb87-16" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(age_group)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  age_group         n
  &lt;fct&gt;         &lt;int&gt;
1 18 - 34 Years  5234
2 35 - 44 Years  3970
3 45 - 54 Years  5257
4 55 - 64 Years  5529
5 65+ Years      6718</code></pre>
</div>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(test_set_features<span class="sc">$</span>age_group)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "18 - 34 Years" "35 - 44 Years" "45 - 54 Years" "55 - 64 Years"
[5] "65+ Years"    </code></pre>
</div>
</div>
<hr>
</section>
<section id="education" class="level5">
<h5 class="anchored" data-anchor-id="education"><code>education</code></h5>
<p><code>education</code> - Self-reported education level.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>   education </span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 1
  education       
  &lt;chr&gt;           
1 College Graduate
2 12 Years        
3 Some College    
4 &lt; 12 Years      
5 &lt;NA&gt;            </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>education_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'&lt; 12 Years'</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'12 Years'</span></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'Some College'</span></span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'College Graduate'</span></span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> </span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb94-11"><a href="#cb94-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">education =</span></span>
<span id="cb94-12"><a href="#cb94-12" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb94-13"><a href="#cb94-13" aria-hidden="true" tabindex="-1"></a>              education,  </span>
<span id="cb94-14"><a href="#cb94-14" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> education_levels</span>
<span id="cb94-15"><a href="#cb94-15" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(education)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  education            n
  &lt;fct&gt;            &lt;int&gt;
1 &lt; 12 Years        2336
2 12 Years          5699
3 Some College      7080
4 College Graduate 10186
5 &lt;NA&gt;              1407</code></pre>
</div>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(test_set_features<span class="sc">$</span>education)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "&lt; 12 Years"       "12 Years"         "Some College"     "College Graduate"</code></pre>
</div>
</div>
<hr>
</section>
<section id="race" class="level5">
<h5 class="anchored" data-anchor-id="race"><code>race</code></h5>
<p><code>race</code> - Race of respondent.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>    race </span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 1
  race             
  &lt;chr&gt;            
1 Hispanic         
2 White            
3 Black            
4 Other or Multiple</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>race_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Hispanic'</span></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'White'</span></span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'Black'</span></span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'Other or Multiple'</span></span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> </span>
<span id="cb101-9"><a href="#cb101-9" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb101-10"><a href="#cb101-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb101-11"><a href="#cb101-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">race =</span></span>
<span id="cb101-12"><a href="#cb101-12" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb101-13"><a href="#cb101-13" aria-hidden="true" tabindex="-1"></a>              race,  </span>
<span id="cb101-14"><a href="#cb101-14" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> race_levels</span>
<span id="cb101-15"><a href="#cb101-15" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(race)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  race                  n
  &lt;fct&gt;             &lt;int&gt;
1 Hispanic           1703
2 White             21301
3 Black              2174
4 Other or Multiple  1530</code></pre>
</div>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(test_set_features<span class="sc">$</span>race)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Hispanic"          "White"             "Black"            
[4] "Other or Multiple"</code></pre>
</div>
</div>
<hr>
</section>
<section id="sex" class="level5">
<h5 class="anchored" data-anchor-id="sex"><code>sex</code></h5>
<p><code>sex</code> - Sex of respondent.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>    sex</span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 1
  sex   
  &lt;chr&gt; 
1 Female
2 Male  </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>sex_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Female'</span></span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'Male'</span></span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> </span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb108-8"><a href="#cb108-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb108-9"><a href="#cb108-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">sex =</span></span>
<span id="cb108-10"><a href="#cb108-10" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb108-11"><a href="#cb108-11" aria-hidden="true" tabindex="-1"></a>              sex,  </span>
<span id="cb108-12"><a href="#cb108-12" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> sex_levels</span>
<span id="cb108-13"><a href="#cb108-13" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  sex        n
  &lt;fct&gt;  &lt;int&gt;
1 Female 15834
2 Male   10874</code></pre>
</div>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(test_set_features<span class="sc">$</span>sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Female" "Male"  </code></pre>
</div>
</div>
<hr>
</section>
<section id="income_poverty" class="level5">
<h5 class="anchored" data-anchor-id="income_poverty"><code>income_poverty</code></h5>
<p><code>income_poverty</code> - Household annual income of respondent with respect to 2008 Census poverty thresholds.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>    income_poverty</span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 1
  income_poverty           
  &lt;chr&gt;                    
1 &gt; $75,000                
2 Below Poverty            
3 &lt;= $75,000, Above Poverty
4 &lt;NA&gt;                     </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>income_poverty_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Below Poverty'</span></span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'&lt;= $75,000, Above Poverty'</span></span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'&gt; $75,000'</span></span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb115-6"><a href="#cb115-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-7"><a href="#cb115-7" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> </span>
<span id="cb115-8"><a href="#cb115-8" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb115-9"><a href="#cb115-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb115-10"><a href="#cb115-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">income_poverty =</span></span>
<span id="cb115-11"><a href="#cb115-11" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb115-12"><a href="#cb115-12" aria-hidden="true" tabindex="-1"></a>              income_poverty,  </span>
<span id="cb115-13"><a href="#cb115-13" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> income_poverty_levels</span>
<span id="cb115-14"><a href="#cb115-14" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(income_poverty)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  income_poverty                n
  &lt;fct&gt;                     &lt;int&gt;
1 Below Poverty              2573
2 &lt;= $75,000, Above Poverty 12775
3 &gt; $75,000                  6863
4 &lt;NA&gt;                       4497</code></pre>
</div>
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(test_set_features<span class="sc">$</span>income_poverty)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Below Poverty"             "&lt;= $75,000, Above Poverty"
[3] "&gt; $75,000"                </code></pre>
</div>
</div>
<hr>
</section>
<section id="marital_status" class="level5">
<h5 class="anchored" data-anchor-id="marital_status"><code>marital_status</code></h5>
<p><code>marital_status</code> - Marital status of respondent.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>    marital_status </span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 1
  marital_status
  &lt;chr&gt;         
1 Not Married   
2 Married       
3 &lt;NA&gt;          </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>marital_status_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Not Married'</span></span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'Married'</span></span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb122-5"><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-6"><a href="#cb122-6" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> </span>
<span id="cb122-7"><a href="#cb122-7" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb122-8"><a href="#cb122-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb122-9"><a href="#cb122-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">marital_status =</span></span>
<span id="cb122-10"><a href="#cb122-10" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb122-11"><a href="#cb122-11" aria-hidden="true" tabindex="-1"></a>              marital_status,  </span>
<span id="cb122-12"><a href="#cb122-12" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> marital_status_levels</span>
<span id="cb122-13"><a href="#cb122-13" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(marital_status)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  marital_status     n
  &lt;fct&gt;          &lt;int&gt;
1 Not Married    11718
2 Married        13548
3 &lt;NA&gt;            1442</code></pre>
</div>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(test_set_features<span class="sc">$</span>marital_status)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Not Married" "Married"    </code></pre>
</div>
</div>
<hr>
</section>
<section id="rent_or_own" class="level5">
<h5 class="anchored" data-anchor-id="rent_or_own"><code>rent_or_own</code></h5>
<p>rent_or_own - Housing situation of respondent.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a>    rent_or_own</span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 1
  rent_or_own
  &lt;chr&gt;      
1 Rent       
2 Own        
3 &lt;NA&gt;       </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>rent_or_own_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Rent'</span>,</span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Own'</span></span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-6"><a href="#cb129-6" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> </span>
<span id="cb129-7"><a href="#cb129-7" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb129-8"><a href="#cb129-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb129-9"><a href="#cb129-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">rent_or_own =</span></span>
<span id="cb129-10"><a href="#cb129-10" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb129-11"><a href="#cb129-11" aria-hidden="true" tabindex="-1"></a>              rent_or_own,  </span>
<span id="cb129-12"><a href="#cb129-12" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> rent_or_own_levels</span>
<span id="cb129-13"><a href="#cb129-13" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(rent_or_own)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  rent_or_own     n
  &lt;fct&gt;       &lt;int&gt;
1 Rent         5951
2 Own         18721
3 &lt;NA&gt;         2036</code></pre>
</div>
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(test_set_features<span class="sc">$</span>rent_or_own)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Rent" "Own" </code></pre>
</div>
</div>
<hr>
</section>
<section id="employment_status" class="level5">
<h5 class="anchored" data-anchor-id="employment_status"><code>employment_status</code></h5>
<p><code>employment_status</code> - Employment status of respondent.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a>    employment_status</span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 1
  employment_status 
  &lt;chr&gt;             
1 Employed          
2 Not in Labor Force
3 Unemployed        
4 &lt;NA&gt;              </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>employment_status_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Employed'</span>,</span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Not in Labor Force'</span>,</span>
<span id="cb136-4"><a href="#cb136-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Unemployed'</span></span>
<span id="cb136-5"><a href="#cb136-5" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb136-6"><a href="#cb136-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-7"><a href="#cb136-7" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> </span>
<span id="cb136-8"><a href="#cb136-8" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb136-9"><a href="#cb136-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb136-10"><a href="#cb136-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">employment_status =</span></span>
<span id="cb136-11"><a href="#cb136-11" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb136-12"><a href="#cb136-12" aria-hidden="true" tabindex="-1"></a>              employment_status,  </span>
<span id="cb136-13"><a href="#cb136-13" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> employment_status_levels</span>
<span id="cb136-14"><a href="#cb136-14" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(employment_status)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  employment_status      n
  &lt;fct&gt;              &lt;int&gt;
1 Employed           13632
2 Not in Labor Force 10092
3 Unemployed          1513
4 &lt;NA&gt;                1471</code></pre>
</div>
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(test_set_features<span class="sc">$</span>employment_status)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Employed"           "Not in Labor Force" "Unemployed"        </code></pre>
</div>
</div>
<hr>
</section>
<section id="hhs_geo_region" class="level5">
<h5 class="anchored" data-anchor-id="hhs_geo_region"><code>hhs_geo_region</code></h5>
<p><code>hhs_geo_region</code> - Respondent’s residence using a 10-region geographic classification defined by the U.S. Dept. of Health and Human Services. Values are represented as short random character strings.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a>    hhs_geo_region</span>
<span id="cb141-4"><a href="#cb141-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 1
   hhs_geo_region
   &lt;chr&gt;         
 1 mlyzmhmf      
 2 bhuqouqj      
 3 lrircsnp      
 4 lzgpxyit      
 5 fpwskwrf      
 6 oxchjgsf      
 7 dqpwygqj      
 8 qufhixun      
 9 kbazzjca      
10 atmpeygn      </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>hhs_geo_region_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'mlyzmhmf'</span></span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'bhuqouqj'</span></span>
<span id="cb143-4"><a href="#cb143-4" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'lrircsnp'</span></span>
<span id="cb143-5"><a href="#cb143-5" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'lzgpxyit'</span></span>
<span id="cb143-6"><a href="#cb143-6" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'fpwskwrf'</span></span>
<span id="cb143-7"><a href="#cb143-7" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'oxchjgsf'</span></span>
<span id="cb143-8"><a href="#cb143-8" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'dqpwygqj'</span></span>
<span id="cb143-9"><a href="#cb143-9" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'qufhixun'</span></span>
<span id="cb143-10"><a href="#cb143-10" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'kbazzjca'</span></span>
<span id="cb143-11"><a href="#cb143-11" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'atmpeygn'</span></span>
<span id="cb143-12"><a href="#cb143-12" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb143-13"><a href="#cb143-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb143-14"><a href="#cb143-14" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> </span>
<span id="cb143-15"><a href="#cb143-15" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb143-16"><a href="#cb143-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb143-17"><a href="#cb143-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">hhs_geo_region =</span></span>
<span id="cb143-18"><a href="#cb143-18" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb143-19"><a href="#cb143-19" aria-hidden="true" tabindex="-1"></a>              hhs_geo_region,  </span>
<span id="cb143-20"><a href="#cb143-20" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> hhs_geo_region_levels </span>
<span id="cb143-21"><a href="#cb143-21" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(hhs_geo_region)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 2
   hhs_geo_region     n
   &lt;fct&gt;          &lt;int&gt;
 1 mlyzmhmf        2183
 2 bhuqouqj        2867
 3 lrircsnp        2022
 4 lzgpxyit        4363
 5 fpwskwrf        3241
 6 oxchjgsf        2987
 7 dqpwygqj        1151
 8 qufhixun        3064
 9 kbazzjca        2844
10 atmpeygn        1986</code></pre>
</div>
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(test_set_features<span class="sc">$</span>hhs_geo_region)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "mlyzmhmf" "bhuqouqj" "lrircsnp" "lzgpxyit" "fpwskwrf" "oxchjgsf"
 [7] "dqpwygqj" "qufhixun" "kbazzjca" "atmpeygn"</code></pre>
</div>
</div>
<hr>
</section>
<section id="census_msa" class="level5">
<h5 class="anchored" data-anchor-id="census_msa"><code>census_msa</code></h5>
<p><code>census_msa</code> - Respondent’s residence within metropolitan statistical areas (MSA) as defined by the U.S. Census.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb148"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>census_msa_levels <span class="ot">&lt;-</span> </span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb148-3"><a href="#cb148-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb148-4"><a href="#cb148-4" aria-hidden="true" tabindex="-1"></a>    census_msa</span>
<span id="cb148-5"><a href="#cb148-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb148-6"><a href="#cb148-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>() <span class="sc">|&gt;</span></span>
<span id="cb148-7"><a href="#cb148-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It’s best practice to not have <code>NA</code> as a factor level. The parquet file format will not work if there is a <code>NA</code> level in a factor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> </span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb149-3"><a href="#cb149-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb149-4"><a href="#cb149-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">census_msa =</span></span>
<span id="cb149-5"><a href="#cb149-5" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb149-6"><a href="#cb149-6" aria-hidden="true" tabindex="-1"></a>              census_msa,  </span>
<span id="cb149-7"><a href="#cb149-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> census_msa_levels</span>
<span id="cb149-8"><a href="#cb149-8" aria-hidden="true" tabindex="-1"></a>  )) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(census_msa)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  census_msa                   n
  &lt;fct&gt;                    &lt;int&gt;
1 MSA, Not Principle  City 11926
2 Non-MSA                   6977
3 MSA, Principle City       7805</code></pre>
</div>
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(test_set_features<span class="sc">$</span>census_msa)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "MSA, Not Principle  City" "Non-MSA"                 
[3] "MSA, Principle City"     </code></pre>
</div>
</div>
<hr>
</section>
<section id="household_adults" class="level5">
<h5 class="anchored" data-anchor-id="household_adults"><code>household_adults</code></h5>
<p><code>household_adults</code> - Number of <em>other</em> adults in household, top-coded to 3.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a>household_adults_levels <span class="ot">&lt;-</span> </span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb154-3"><a href="#cb154-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb154-4"><a href="#cb154-4" aria-hidden="true" tabindex="-1"></a>    household_adults</span>
<span id="cb154-5"><a href="#cb154-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb154-6"><a href="#cb154-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>() <span class="sc">|&gt;</span></span>
<span id="cb154-7"><a href="#cb154-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It’s best practice to not have <code>NA</code> as a factor level. The parquet file format will not work if there is a <code>NA</code> level in a factor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> </span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb155-3"><a href="#cb155-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb155-4"><a href="#cb155-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">household_adults =</span></span>
<span id="cb155-5"><a href="#cb155-5" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb155-6"><a href="#cb155-6" aria-hidden="true" tabindex="-1"></a>              household_adults,  </span>
<span id="cb155-7"><a href="#cb155-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> household_adults_levels</span>
<span id="cb155-8"><a href="#cb155-8" aria-hidden="true" tabindex="-1"></a>  )) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(household_adults)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  household_adults     n
  &lt;fct&gt;            &lt;int&gt;
1 1                14533
2 3                 1137
3 0                 7943
4 2                 2870
5 &lt;NA&gt;               225</code></pre>
</div>
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(test_set_features<span class="sc">$</span>household_adults)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1" "3" "0" "2"</code></pre>
</div>
</div>
<hr>
</section>
<section id="household_children" class="level5">
<h5 class="anchored" data-anchor-id="household_children"><code>household_children</code></h5>
<p><code>household_children</code> - Number of children in household, top-coded to 3.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a>household_children_levels <span class="ot">&lt;-</span> </span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb160-3"><a href="#cb160-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb160-4"><a href="#cb160-4" aria-hidden="true" tabindex="-1"></a>    household_children</span>
<span id="cb160-5"><a href="#cb160-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb160-6"><a href="#cb160-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>() <span class="sc">|&gt;</span></span>
<span id="cb160-7"><a href="#cb160-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It’s best practice to not have <code>NA</code> as a factor level. The parquet file format will not work if there is a <code>NA</code> level in a factor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> </span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb161-3"><a href="#cb161-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb161-4"><a href="#cb161-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">household_children =</span></span>
<span id="cb161-5"><a href="#cb161-5" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb161-6"><a href="#cb161-6" aria-hidden="true" tabindex="-1"></a>              household_children,  </span>
<span id="cb161-7"><a href="#cb161-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> household_children_levels</span>
<span id="cb161-8"><a href="#cb161-8" aria-hidden="true" tabindex="-1"></a>  )) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(household_children)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  household_children     n
  &lt;fct&gt;              &lt;int&gt;
1 0                  18571
2 1                   3228
3 2                   2880
4 3                   1804
5 &lt;NA&gt;                 225</code></pre>
</div>
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(test_set_features<span class="sc">$</span>household_children)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "0" "1" "2" "3"</code></pre>
</div>
</div>
<hr>
</section>
<section id="employment_industry" class="level5">
<h5 class="anchored" data-anchor-id="employment_industry"><code>employment_industry</code></h5>
<p><code>employment_industry</code> - Type of industry respondent is employed in. Values are represented as short random character strings.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a>employment_industry_levels <span class="ot">&lt;-</span> </span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb166-3"><a href="#cb166-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb166-4"><a href="#cb166-4" aria-hidden="true" tabindex="-1"></a>    employment_industry </span>
<span id="cb166-5"><a href="#cb166-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb166-6"><a href="#cb166-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>() <span class="sc">|&gt;</span></span>
<span id="cb166-7"><a href="#cb166-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It’s best practice to not have <code>NA</code> as a factor level. The parquet file format will not work if there is a <code>NA</code> level in a factor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> </span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb167-4"><a href="#cb167-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">employment_industry =</span></span>
<span id="cb167-5"><a href="#cb167-5" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb167-6"><a href="#cb167-6" aria-hidden="true" tabindex="-1"></a>              employment_industry,  </span>
<span id="cb167-7"><a href="#cb167-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> employment_industry_levels </span>
<span id="cb167-8"><a href="#cb167-8" aria-hidden="true" tabindex="-1"></a>  )) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(employment_industry)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 22 × 2
   employment_industry     n
   &lt;fct&gt;               &lt;int&gt;
 1 atmlpfrs              822
 2 nduyfdeo              292
 3 fcxhlnwr             2484
 4 pxcmvdjn             1078
 5 arjwrbjb              885
 6 mfikgejo              649
 7 rucpziij              538
 8 wxleyezf             1805
 9 haxffmxo              160
10 ldnlellj             1224
# ℹ 12 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(test_set_features<span class="sc">$</span>employment_industry)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "atmlpfrs" "nduyfdeo" "fcxhlnwr" "pxcmvdjn" "arjwrbjb" "mfikgejo"
 [7] "rucpziij" "wxleyezf" "haxffmxo" "ldnlellj" "vjjrobsf" "cfqqtusy"
[13] "xicduogh" "dotnnunm" "xqicxuve" "wlfvacwt" "saaquncn" "msuufmds"
[19] "mcubkhph" "phxvnwax" "qnlwzans"</code></pre>
</div>
</div>
<hr>
</section>
<section id="employment_occupation" class="level5">
<h5 class="anchored" data-anchor-id="employment_occupation"><code>employment_occupation</code></h5>
<p><code>employment_occupation</code> - Type of occupation of respondent. Values are represented as short random character strings.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a>employment_occupation_levels <span class="ot">&lt;-</span> </span>
<span id="cb172-2"><a href="#cb172-2" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb172-3"><a href="#cb172-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb172-4"><a href="#cb172-4" aria-hidden="true" tabindex="-1"></a>    employment_occupation</span>
<span id="cb172-5"><a href="#cb172-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb172-6"><a href="#cb172-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>() <span class="sc">|&gt;</span></span>
<span id="cb172-7"><a href="#cb172-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It’s best practice to not have <code>NA</code> as a factor level. The parquet file format will not work if there is a <code>NA</code> level in a factor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="ot">&lt;-</span> </span>
<span id="cb173-2"><a href="#cb173-2" aria-hidden="true" tabindex="-1"></a>  test_set_features <span class="sc">|&gt;</span></span>
<span id="cb173-3"><a href="#cb173-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb173-4"><a href="#cb173-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">employment_occupation =</span></span>
<span id="cb173-5"><a href="#cb173-5" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb173-6"><a href="#cb173-6" aria-hidden="true" tabindex="-1"></a>              employment_occupation,  </span>
<span id="cb173-7"><a href="#cb173-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> employment_occupation_levels</span>
<span id="cb173-8"><a href="#cb173-8" aria-hidden="true" tabindex="-1"></a>  )) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb174-2"><a href="#cb174-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(employment_occupation)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24 × 2
   employment_occupation     n
   &lt;fct&gt;                 &lt;int&gt;
 1 hfxkjkmi                725
 2 xqwwgdyp                475
 3 pvmttkik                108
 4 mxkfnird               1561
 5 cmhcxjea               1224
 6 xgwztkwe               1138
 7 tfqavkke                402
 8 vlluhbov                325
 9 dcjcmpih                161
10 xtkaffoo               1748
# ℹ 14 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb176"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(test_set_features<span class="sc">$</span>employment_occupation)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "hfxkjkmi" "xqwwgdyp" "pvmttkik" "mxkfnird" "cmhcxjea" "xgwztkwe"
 [7] "tfqavkke" "vlluhbov" "dcjcmpih" "xtkaffoo" "hodpvpew" "oijqvulv"
[13] "kldqjyjy" "emcorrxb" "qxajmpny" "haliazsg" "ukymxvdu" "dlvbwzss"
[19] "uqqtjvyb" "ccgxvspp" "rcertsgn" "bxpfxfdn" "xzmlyyjv"</code></pre>
</div>
</div>
<hr>
<div class="cell">
<div class="sourceCode cell-code" id="cb178"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(test_set_features)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [26,708 × 36] (S3: tbl_df/tbl/data.frame)
 $ respondent_id              : chr [1:26708] "26707" "26708" "26709" "26710" ...
 $ h1n1_concern               : Factor w/ 4 levels "Not at all concerned",..: 3 2 3 2 4 3 3 3 2 3 ...
 $ h1n1_knowledge             : Factor w/ 3 levels "No knowledge",..: 3 2 3 2 2 3 3 2 2 3 ...
 $ behavioral_antiviral_meds  : logi [1:26708] FALSE FALSE FALSE FALSE TRUE FALSE ...
 $ behavioral_avoidance       : logi [1:26708] TRUE FALSE FALSE FALSE TRUE TRUE ...
 $ behavioral_face_mask       : logi [1:26708] FALSE FALSE TRUE FALSE FALSE FALSE ...
 $ behavioral_wash_hands      : logi [1:26708] TRUE FALSE TRUE FALSE TRUE TRUE ...
 $ behavioral_large_gatherings: logi [1:26708] TRUE FALSE TRUE FALSE TRUE TRUE ...
 $ behavioral_outside_home    : logi [1:26708] FALSE FALSE TRUE FALSE TRUE FALSE ...
 $ behavioral_touch_face      : logi [1:26708] TRUE FALSE TRUE FALSE TRUE TRUE ...
 $ doctor_recc_h1n1           : logi [1:26708] FALSE FALSE FALSE TRUE FALSE FALSE ...
 $ doctor_recc_seasonal       : logi [1:26708] FALSE FALSE FALSE TRUE FALSE FALSE ...
 $ chronic_med_condition      : logi [1:26708] FALSE FALSE FALSE TRUE FALSE FALSE ...
 $ child_under_6_months       : logi [1:26708] FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ health_worker              : logi [1:26708] FALSE FALSE FALSE FALSE TRUE TRUE ...
 $ health_insurance           : logi [1:26708] TRUE FALSE NA TRUE TRUE TRUE ...
 $ opinion_h1n1_vacc_effective: Factor w/ 5 levels "Not at all effective",..: 5 4 5 4 5 4 4 5 3 4 ...
 $ opinion_h1n1_risk          : Factor w/ 5 levels "Very Low","Somewhat low",..: 1 1 4 2 2 4 2 1 1 2 ...
 $ opinion_h1n1_sick_from_vacc: Factor w/ 5 levels "Not at all worried",..: 1 1 2 2 4 1 4 2 1 2 ...
 $ opinion_seas_vacc_effective: Factor w/ 5 levels "Not at all effective",..: 5 4 5 4 4 5 3 4 3 5 ...
 $ opinion_seas_risk          : Factor w/ 5 levels "Very Low","Somewhat low",..: 1 1 4 4 4 5 1 1 1 4 ...
 $ opinion_seas_sick_from_vacc: Factor w/ 5 levels "Not at all worried",..: 1 1 4 2 2 1 2 1 1 2 ...
 $ age_group                  : Factor w/ 5 levels "18 - 34 Years",..: 2 1 4 5 2 3 5 4 4 5 ...
 $ education                  : Factor w/ 4 levels "&lt; 12 Years","12 Years",..: 4 2 4 2 2 4 4 3 2 3 ...
 $ race                       : Factor w/ 4 levels "Hispanic","White",..: 1 2 2 2 3 2 2 2 2 2 ...
 $ sex                        : Factor w/ 2 levels "Female","Male": 1 2 2 1 1 1 2 2 2 1 ...
 $ income_poverty             : Factor w/ 3 levels "Below Poverty",..: 3 1 3 2 2 3 NA 2 NA 3 ...
 $ marital_status             : Factor w/ 2 levels "Not Married",..: 1 1 2 2 1 1 2 2 2 1 ...
 $ rent_or_own                : Factor w/ 2 levels "Rent","Own": 1 1 2 2 2 2 2 2 2 2 ...
 $ employment_status          : Factor w/ 3 levels "Employed","Not in Labor Force",..: 1 1 1 2 1 1 2 3 2 2 ...
 $ hhs_geo_region             : Factor w/ 10 levels "mlyzmhmf","bhuqouqj",..: 1 2 3 3 4 1 5 6 6 1 ...
 $ census_msa                 : Factor w/ 3 levels "MSA, Not Principle  City",..: 1 2 2 1 2 3 1 1 1 3 ...
 $ household_adults           : Factor w/ 4 levels "1","3","0","2": 1 2 1 1 3 3 1 1 1 3 ...
 $ household_children         : Factor w/ 4 levels "0","1","2","3": 1 1 1 1 2 3 1 1 1 1 ...
 $ employment_industry        : Factor w/ 21 levels "atmlpfrs","nduyfdeo",..: 1 1 2 NA 3 3 NA NA NA NA ...
 $ employment_occupation      : Factor w/ 23 levels "hfxkjkmi","xqwwgdyp",..: 1 2 3 NA 4 5 NA NA NA NA ...</code></pre>
</div>
</div>
<hr>
</section>
</section>
</section>
<section id="training_set_labels-dataset" class="level3">
<h3 class="anchored" data-anchor-id="training_set_labels-dataset"><code>training_set_labels</code> Dataset</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span>(training_set_labels)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>cols(
  respondent_id = col_double(),
  h1n1_vaccine = col_double(),
  seasonal_vaccine = col_double()
)</code></pre>
</div>
</div>
<ul>
<li><code>respondent_id</code> will be <code>col_character()</code>, because doing arithmetic operations doesn’t make sense on identifiers.</li>
<li><code>h1n1_vaccine</code> and <code>seasonal_vaccine</code> will be <code>col_integer()</code>.</li>
</ul>
<section id="setting-column-type-for-training_set_labels-dataset" class="level4">
<h4 class="anchored" data-anchor-id="setting-column-type-for-training_set_labels-dataset">Setting Column Type for <code>training_set_labels</code> Dataset</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a>training_set_labels <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb182-2"><a href="#cb182-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"data/given_data/training_set_labels.csv"</span>,</span>
<span id="cb182-3"><a href="#cb182-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_types =</span> <span class="fu">list</span>(  </span>
<span id="cb182-4"><a href="#cb182-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">respondent_id =</span> <span class="fu">col_character</span>(),</span>
<span id="cb182-5"><a href="#cb182-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">h1n1_vaccine =</span> <span class="fu">col_integer</span>(),</span>
<span id="cb182-6"><a href="#cb182-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">seasonal_vaccine =</span> <span class="fu">col_integer</span>()</span>
<span id="cb182-7"><a href="#cb182-7" aria-hidden="true" tabindex="-1"></a>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Double check that the format is correct:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span>(training_set_labels)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>cols(
  respondent_id = col_character(),
  h1n1_vaccine = col_integer(),
  seasonal_vaccine = col_integer()
)</code></pre>
</div>
</div>
<p>Good.</p>
<hr>
</section>
</section>
<section id="training_set_features-dataset" class="level3">
<h3 class="anchored" data-anchor-id="training_set_features-dataset"><code>training_set_features</code> Dataset</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span>(training_set_features)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>cols(
  respondent_id = col_double(),
  h1n1_concern = col_double(),
  h1n1_knowledge = col_double(),
  behavioral_antiviral_meds = col_double(),
  behavioral_avoidance = col_double(),
  behavioral_face_mask = col_double(),
  behavioral_wash_hands = col_double(),
  behavioral_large_gatherings = col_double(),
  behavioral_outside_home = col_double(),
  behavioral_touch_face = col_double(),
  doctor_recc_h1n1 = col_double(),
  doctor_recc_seasonal = col_double(),
  chronic_med_condition = col_double(),
  child_under_6_months = col_double(),
  health_worker = col_double(),
  health_insurance = col_double(),
  opinion_h1n1_vacc_effective = col_double(),
  opinion_h1n1_risk = col_double(),
  opinion_h1n1_sick_from_vacc = col_double(),
  opinion_seas_vacc_effective = col_double(),
  opinion_seas_risk = col_double(),
  opinion_seas_sick_from_vacc = col_double(),
  age_group = col_character(),
  education = col_character(),
  race = col_character(),
  sex = col_character(),
  income_poverty = col_character(),
  marital_status = col_character(),
  rent_or_own = col_character(),
  employment_status = col_character(),
  hhs_geo_region = col_character(),
  census_msa = col_character(),
  household_adults = col_double(),
  household_children = col_double(),
  employment_industry = col_character(),
  employment_occupation = col_character()
)</code></pre>
</div>
</div>
<section id="setting-column-type-for-training_set_features-dataset" class="level4">
<h4 class="anchored" data-anchor-id="setting-column-type-for-training_set_features-dataset">Setting Column Type for <code>training_set_features</code> Dataset</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb187"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb187-2"><a href="#cb187-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"data/given_data/training_set_features.csv"</span>,</span>
<span id="cb187-3"><a href="#cb187-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_types =</span> <span class="fu">list</span>(  </span>
<span id="cb187-4"><a href="#cb187-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">respondent_id =</span> <span class="fu">col_character</span>(),</span>
<span id="cb187-5"><a href="#cb187-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">h1n1_concern =</span> <span class="fu">col_integer</span>(),</span>
<span id="cb187-6"><a href="#cb187-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">h1n1_knowledge =</span> <span class="fu">col_integer</span>(),</span>
<span id="cb187-7"><a href="#cb187-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">behavioral_antiviral_meds =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb187-8"><a href="#cb187-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">behavioral_avoidance =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb187-9"><a href="#cb187-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">behavioral_face_mask =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb187-10"><a href="#cb187-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">behavioral_wash_hands =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb187-11"><a href="#cb187-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">behavioral_large_gatherings =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb187-12"><a href="#cb187-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">behavioral_outside_home =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb187-13"><a href="#cb187-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">behavioral_touch_face =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb187-14"><a href="#cb187-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">doctor_recc_h1n1 =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb187-15"><a href="#cb187-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">doctor_recc_seasonal =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb187-16"><a href="#cb187-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">chronic_med_condition =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb187-17"><a href="#cb187-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">child_under_6_months =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb187-18"><a href="#cb187-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">health_worker =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb187-19"><a href="#cb187-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">health_insurance =</span> <span class="fu">col_logical</span>(),</span>
<span id="cb187-20"><a href="#cb187-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_h1n1_vacc_effective =</span> <span class="fu">col_integer</span>(),</span>
<span id="cb187-21"><a href="#cb187-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_h1n1_risk =</span> <span class="fu">col_integer</span>(),</span>
<span id="cb187-22"><a href="#cb187-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_h1n1_sick_from_vacc =</span> <span class="fu">col_integer</span>(),</span>
<span id="cb187-23"><a href="#cb187-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_seas_vacc_effective =</span> <span class="fu">col_integer</span>(),</span>
<span id="cb187-24"><a href="#cb187-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_seas_risk =</span> <span class="fu">col_integer</span>(),</span>
<span id="cb187-25"><a href="#cb187-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_seas_sick_from_vacc =</span> <span class="fu">col_integer</span>(),</span>
<span id="cb187-26"><a href="#cb187-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_group =</span> <span class="fu">col_character</span>(),</span>
<span id="cb187-27"><a href="#cb187-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">education =</span> <span class="fu">col_character</span>(),</span>
<span id="cb187-28"><a href="#cb187-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">race =</span> <span class="fu">col_character</span>(),</span>
<span id="cb187-29"><a href="#cb187-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">sex =</span> <span class="fu">col_character</span>(),</span>
<span id="cb187-30"><a href="#cb187-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">income_poverty =</span> <span class="fu">col_character</span>(),</span>
<span id="cb187-31"><a href="#cb187-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">marital_status =</span> <span class="fu">col_character</span>(),</span>
<span id="cb187-32"><a href="#cb187-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">rent_or_own =</span> <span class="fu">col_character</span>(),</span>
<span id="cb187-33"><a href="#cb187-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">employment_status =</span> <span class="fu">col_character</span>(),</span>
<span id="cb187-34"><a href="#cb187-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">hhs_geo_region =</span> <span class="fu">col_character</span>(),</span>
<span id="cb187-35"><a href="#cb187-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">census_msa =</span> <span class="fu">col_character</span>(),</span>
<span id="cb187-36"><a href="#cb187-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">household_adults =</span> <span class="fu">col_character</span>(),</span>
<span id="cb187-37"><a href="#cb187-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">household_children =</span> <span class="fu">col_character</span>(),</span>
<span id="cb187-38"><a href="#cb187-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">employment_industry =</span> <span class="fu">col_character</span>(),</span>
<span id="cb187-39"><a href="#cb187-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">employment_occupation =</span> <span class="fu">col_character</span>()</span>
<span id="cb187-40"><a href="#cb187-40" aria-hidden="true" tabindex="-1"></a>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
<section id="set-up-some-factor-levels-for-categorical-variables-1" class="level4">
<h4 class="anchored" data-anchor-id="set-up-some-factor-levels-for-categorical-variables-1">Set up some factor levels for categorical variables:</h4>
<section id="h1n1_concern-1" class="level5">
<h5 class="anchored" data-anchor-id="h1n1_concern-1"><code>h1n1_concern</code></h5>
<ul>
<li><code>h1n1_concern</code> - Level of concern about the H1N1 flu.
<ul>
<li><code>0</code> = Not at all concerned</li>
<li><code>1</code> = Not very concerned</li>
<li><code>2</code> = Somewhat concerned</li>
<li><code>3</code> = Very concerned</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span> <span class="fu">distinct</span>(h1n1_concern) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 1
  h1n1_concern
         &lt;int&gt;
1            1
2            3
3            2
4            0
5           NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a>h1n1_concern_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb190-2"><a href="#cb190-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Not at all concerned'</span></span>
<span id="cb190-3"><a href="#cb190-3" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Not very concerned'</span></span>
<span id="cb190-4"><a href="#cb190-4" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Somewhat concerned'</span></span>
<span id="cb190-5"><a href="#cb190-5" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Very concerned'</span></span>
<span id="cb190-6"><a href="#cb190-6" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb190-7"><a href="#cb190-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-8"><a href="#cb190-8" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> </span>
<span id="cb190-9"><a href="#cb190-9" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb190-10"><a href="#cb190-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">h1n1_concern =</span> </span>
<span id="cb190-11"><a href="#cb190-11" aria-hidden="true" tabindex="-1"></a>           <span class="fu">case_when</span> (</span>
<span id="cb190-12"><a href="#cb190-12" aria-hidden="true" tabindex="-1"></a>              h1n1_concern <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">'Not at all concerned'</span>,</span>
<span id="cb190-13"><a href="#cb190-13" aria-hidden="true" tabindex="-1"></a>              h1n1_concern <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'Not very concerned'</span>,</span>
<span id="cb190-14"><a href="#cb190-14" aria-hidden="true" tabindex="-1"></a>              h1n1_concern <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">'Somewhat concerned'</span>,</span>
<span id="cb190-15"><a href="#cb190-15" aria-hidden="true" tabindex="-1"></a>              h1n1_concern <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">'Very concerned'</span>,</span>
<span id="cb190-16"><a href="#cb190-16" aria-hidden="true" tabindex="-1"></a>              <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(h1n1_concern)</span>
<span id="cb190-17"><a href="#cb190-17" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb190-18"><a href="#cb190-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">h1n1_concern =</span> </span>
<span id="cb190-19"><a href="#cb190-19" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb190-20"><a href="#cb190-20" aria-hidden="true" tabindex="-1"></a>             h1n1_concern,</span>
<span id="cb190-21"><a href="#cb190-21" aria-hidden="true" tabindex="-1"></a>             <span class="at">levels =</span> h1n1_concern_levels</span>
<span id="cb190-22"><a href="#cb190-22" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb191"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span> <span class="fu">count</span>(h1n1_concern)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  h1n1_concern             n
  &lt;fct&gt;                &lt;int&gt;
1 Not at all concerned  3296
2 Not very concerned    8153
3 Somewhat concerned   10575
4 Very concerned        4591
5 &lt;NA&gt;                    92</code></pre>
</div>
<div class="sourceCode cell-code" id="cb193"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(training_set_features<span class="sc">$</span>h1n1_concern)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Not at all concerned" "Not very concerned"   "Somewhat concerned"  
[4] "Very concerned"      </code></pre>
</div>
</div>
<hr>
</section>
<section id="h1n1_knowledge-1" class="level5">
<h5 class="anchored" data-anchor-id="h1n1_knowledge-1"><code>h1n1_knowledge</code></h5>
<ul>
<li><p><code>h1n1_knowledge</code> - Level of knowledge about H1N1 flu.</p>
<ul>
<li><code>0</code> = No knowledge</li>
<li><code>1</code> = A little knowledge</li>
<li><code>2</code> = A lot of knowledge</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb195"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span> <span class="fu">distinct</span>(h1n1_knowledge) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 1
  h1n1_knowledge
           &lt;int&gt;
1              0
2              2
3              1
4             NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb197"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a>h1n1_knowledge_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb197-2"><a href="#cb197-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'No knowledge'</span></span>
<span id="cb197-3"><a href="#cb197-3" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'A little knowledge'</span></span>
<span id="cb197-4"><a href="#cb197-4" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'A lot of knowledge'</span></span>
<span id="cb197-5"><a href="#cb197-5" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb197-6"><a href="#cb197-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb197-7"><a href="#cb197-7" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> </span>
<span id="cb197-8"><a href="#cb197-8" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb197-9"><a href="#cb197-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">h1n1_knowledge =</span> </span>
<span id="cb197-10"><a href="#cb197-10" aria-hidden="true" tabindex="-1"></a>           <span class="fu">case_when</span> (</span>
<span id="cb197-11"><a href="#cb197-11" aria-hidden="true" tabindex="-1"></a>              h1n1_knowledge <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">'No knowledge'</span>,</span>
<span id="cb197-12"><a href="#cb197-12" aria-hidden="true" tabindex="-1"></a>              h1n1_knowledge <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'A little knowledge'</span>,</span>
<span id="cb197-13"><a href="#cb197-13" aria-hidden="true" tabindex="-1"></a>              h1n1_knowledge <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">'A lot of knowledge'</span>,</span>
<span id="cb197-14"><a href="#cb197-14" aria-hidden="true" tabindex="-1"></a>              <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(h1n1_knowledge)</span>
<span id="cb197-15"><a href="#cb197-15" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb197-16"><a href="#cb197-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">h1n1_knowledge =</span> </span>
<span id="cb197-17"><a href="#cb197-17" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb197-18"><a href="#cb197-18" aria-hidden="true" tabindex="-1"></a>             h1n1_knowledge,</span>
<span id="cb197-19"><a href="#cb197-19" aria-hidden="true" tabindex="-1"></a>             <span class="at">levels =</span> h1n1_knowledge_levels</span>
<span id="cb197-20"><a href="#cb197-20" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
</ul>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span> <span class="fu">count</span>(h1n1_knowledge)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  h1n1_knowledge         n
  &lt;fct&gt;              &lt;int&gt;
1 No knowledge        2506
2 A little knowledge 14598
3 A lot of knowledge  9487
4 &lt;NA&gt;                 116</code></pre>
</div>
<div class="sourceCode cell-code" id="cb200"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(training_set_features<span class="sc">$</span>h1n1_knowledge)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "No knowledge"       "A little knowledge" "A lot of knowledge"</code></pre>
</div>
</div>
<hr>
</section>
<section id="opinion_h1n1_vacc_effective-1" class="level5">
<h5 class="anchored" data-anchor-id="opinion_h1n1_vacc_effective-1"><code>opinion_h1n1_vacc_effective</code></h5>
<ul>
<li><code>opinion_h1n1_vacc_effective</code> - Respondent’s opinion about H1N1 vaccine effectiveness.
<ul>
<li><code>1</code> = Not at all effective</li>
<li><code>2</code> = Not very effective</li>
<li><code>3</code> = Don’t know</li>
<li><code>4</code> = Somewhat effective</li>
<li><code>5</code> = Very effective</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb202"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb202-1"><a href="#cb202-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb202-2"><a href="#cb202-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb202-3"><a href="#cb202-3" aria-hidden="true" tabindex="-1"></a>    opinion_h1n1_vacc_effective</span>
<span id="cb202-4"><a href="#cb202-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 1
  opinion_h1n1_vacc_effective
                        &lt;int&gt;
1                           3
2                           5
3                           4
4                           2
5                           1
6                          NA</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb204"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb204-1"><a href="#cb204-1" aria-hidden="true" tabindex="-1"></a>opinion_h1n1_vacc_effective_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb204-2"><a href="#cb204-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Not at all effective'</span></span>
<span id="cb204-3"><a href="#cb204-3" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Not very effective'</span></span>
<span id="cb204-4"><a href="#cb204-4" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Don’t know'</span></span>
<span id="cb204-5"><a href="#cb204-5" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Somewhat effective'</span></span>
<span id="cb204-6"><a href="#cb204-6" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Very effective'</span></span>
<span id="cb204-7"><a href="#cb204-7" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb204-8"><a href="#cb204-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-9"><a href="#cb204-9" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> </span>
<span id="cb204-10"><a href="#cb204-10" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb204-11"><a href="#cb204-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb204-12"><a href="#cb204-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_h1n1_vacc_effective =</span> </span>
<span id="cb204-13"><a href="#cb204-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">case_when</span> (</span>
<span id="cb204-14"><a href="#cb204-14" aria-hidden="true" tabindex="-1"></a>        opinion_h1n1_vacc_effective <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'Not at all effective'</span>,</span>
<span id="cb204-15"><a href="#cb204-15" aria-hidden="true" tabindex="-1"></a>        opinion_h1n1_vacc_effective <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">'Not very effective'</span>,</span>
<span id="cb204-16"><a href="#cb204-16" aria-hidden="true" tabindex="-1"></a>        opinion_h1n1_vacc_effective <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">'Don’t know'</span>,</span>
<span id="cb204-17"><a href="#cb204-17" aria-hidden="true" tabindex="-1"></a>        opinion_h1n1_vacc_effective <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">'Somewhat effective'</span>,</span>
<span id="cb204-18"><a href="#cb204-18" aria-hidden="true" tabindex="-1"></a>        opinion_h1n1_vacc_effective <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">'Very effective'</span>,</span>
<span id="cb204-19"><a href="#cb204-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(opinion_h1n1_vacc_effective)</span>
<span id="cb204-20"><a href="#cb204-20" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb204-21"><a href="#cb204-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">opinion_h1n1_vacc_effective =</span> </span>
<span id="cb204-22"><a href="#cb204-22" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb204-23"><a href="#cb204-23" aria-hidden="true" tabindex="-1"></a>             opinion_h1n1_vacc_effective,</span>
<span id="cb204-24"><a href="#cb204-24" aria-hidden="true" tabindex="-1"></a>             <span class="at">levels =</span> opinion_h1n1_vacc_effective_levels </span>
<span id="cb204-25"><a href="#cb204-25" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb205"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span> </span>
<span id="cb205-2"><a href="#cb205-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(opinion_h1n1_vacc_effective)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  opinion_h1n1_vacc_effective     n
  &lt;fct&gt;                       &lt;int&gt;
1 Not at all effective          886
2 Not very effective           1858
3 Don’t know                   4723
4 Somewhat effective          11683
5 Very effective               7166
6 &lt;NA&gt;                          391</code></pre>
</div>
<div class="sourceCode cell-code" id="cb207"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb207-1"><a href="#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(training_set_features<span class="sc">$</span>opinion_h1n1_vacc_effective)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Not at all effective" "Not very effective"   "Don’t know"          
[4] "Somewhat effective"   "Very effective"      </code></pre>
</div>
</div>
<hr>
</section>
<section id="opinion_h1n1_risk-1" class="level5">
<h5 class="anchored" data-anchor-id="opinion_h1n1_risk-1"><code>opinion_h1n1_risk</code></h5>
<ul>
<li><code>opinion_h1n1_risk</code> - Respondent’s opinion about risk of getting sick with H1N1 flu without vaccine.
<ul>
<li><code>1</code> = Very Low</li>
<li><code>2</code> = Somewhat low</li>
<li><code>3</code> = Don’t know</li>
<li><code>4</code> = Somewhat high</li>
<li><code>5</code> = Very high</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb209"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb209-2"><a href="#cb209-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb209-3"><a href="#cb209-3" aria-hidden="true" tabindex="-1"></a>    opinion_h1n1_risk</span>
<span id="cb209-4"><a href="#cb209-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 1
  opinion_h1n1_risk
              &lt;int&gt;
1                 1
2                 4
3                 3
4                 2
5                 5
6                NA</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb211"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a>opinion_h1n1_risk_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb211-2"><a href="#cb211-2" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Very Low'</span>,</span>
<span id="cb211-3"><a href="#cb211-3" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Somewhat low'</span>,</span>
<span id="cb211-4"><a href="#cb211-4" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Don’t know'</span>,</span>
<span id="cb211-5"><a href="#cb211-5" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Somewhat high'</span>,</span>
<span id="cb211-6"><a href="#cb211-6" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Very high'</span></span>
<span id="cb211-7"><a href="#cb211-7" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb211-8"><a href="#cb211-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb211-9"><a href="#cb211-9" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> </span>
<span id="cb211-10"><a href="#cb211-10" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb211-11"><a href="#cb211-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb211-12"><a href="#cb211-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_h1n1_risk =</span> </span>
<span id="cb211-13"><a href="#cb211-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">case_when</span> (</span>
<span id="cb211-14"><a href="#cb211-14" aria-hidden="true" tabindex="-1"></a>       opinion_h1n1_risk  <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'Very Low'</span>,</span>
<span id="cb211-15"><a href="#cb211-15" aria-hidden="true" tabindex="-1"></a>       opinion_h1n1_risk  <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">'Somewhat low'</span>,</span>
<span id="cb211-16"><a href="#cb211-16" aria-hidden="true" tabindex="-1"></a>       opinion_h1n1_risk  <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">'Don’t know'</span>,</span>
<span id="cb211-17"><a href="#cb211-17" aria-hidden="true" tabindex="-1"></a>       opinion_h1n1_risk  <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">'Somewhat high'</span>,</span>
<span id="cb211-18"><a href="#cb211-18" aria-hidden="true" tabindex="-1"></a>       opinion_h1n1_risk  <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">'Very high'</span>,</span>
<span id="cb211-19"><a href="#cb211-19" aria-hidden="true" tabindex="-1"></a>       <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(opinion_h1n1_risk)</span>
<span id="cb211-20"><a href="#cb211-20" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb211-21"><a href="#cb211-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">opinion_h1n1_risk =</span> </span>
<span id="cb211-22"><a href="#cb211-22" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb211-23"><a href="#cb211-23" aria-hidden="true" tabindex="-1"></a>             opinion_h1n1_risk,</span>
<span id="cb211-24"><a href="#cb211-24" aria-hidden="true" tabindex="-1"></a>             <span class="at">levels =</span> opinion_h1n1_risk_levels </span>
<span id="cb211-25"><a href="#cb211-25" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb212"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb212-1"><a href="#cb212-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span> </span>
<span id="cb212-2"><a href="#cb212-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(opinion_h1n1_risk)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  opinion_h1n1_risk     n
  &lt;fct&gt;             &lt;int&gt;
1 Very Low           8139
2 Somewhat low       9919
3 Don’t know         1117
4 Somewhat high      5394
5 Very high          1750
6 &lt;NA&gt;                388</code></pre>
</div>
<div class="sourceCode cell-code" id="cb214"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb214-1"><a href="#cb214-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(training_set_features<span class="sc">$</span>opinion_h1n1_risk)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Very Low"      "Somewhat low"  "Don’t know"    "Somewhat high"
[5] "Very high"    </code></pre>
</div>
</div>
<hr>
</section>
<section id="opinion_h1n1_sick_from_vacc-1" class="level5">
<h5 class="anchored" data-anchor-id="opinion_h1n1_sick_from_vacc-1"><code>opinion_h1n1_sick_from_vacc</code></h5>
<ul>
<li><code>opinion_h1n1_sick_from_vacc</code> - Respondent’s worry of getting sick from taking H1N1 vaccine.
<ul>
<li><code>1</code> = Not at all worried</li>
<li><code>2</code> = Not very worried</li>
<li><code>3</code> = Don’t know</li>
<li><code>4</code> = Somewhat worried</li>
<li><code>5</code> = Very worried</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb216"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb216-1"><a href="#cb216-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb216-2"><a href="#cb216-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb216-3"><a href="#cb216-3" aria-hidden="true" tabindex="-1"></a>    opinion_h1n1_sick_from_vacc </span>
<span id="cb216-4"><a href="#cb216-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 1
  opinion_h1n1_sick_from_vacc
                        &lt;int&gt;
1                           2
2                           4
3                           1
4                           5
5                           3
6                          NA</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb218"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb218-1"><a href="#cb218-1" aria-hidden="true" tabindex="-1"></a>opinion_h1n1_sick_from_vacc_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb218-2"><a href="#cb218-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Not at all worried'</span></span>
<span id="cb218-3"><a href="#cb218-3" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Not very worried'</span></span>
<span id="cb218-4"><a href="#cb218-4" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Don’t know'</span></span>
<span id="cb218-5"><a href="#cb218-5" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Somewhat worried'</span></span>
<span id="cb218-6"><a href="#cb218-6" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Very worried'</span></span>
<span id="cb218-7"><a href="#cb218-7" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb218-8"><a href="#cb218-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb218-9"><a href="#cb218-9" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> </span>
<span id="cb218-10"><a href="#cb218-10" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb218-11"><a href="#cb218-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb218-12"><a href="#cb218-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_h1n1_sick_from_vacc =</span> </span>
<span id="cb218-13"><a href="#cb218-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">case_when</span> (</span>
<span id="cb218-14"><a href="#cb218-14" aria-hidden="true" tabindex="-1"></a>        opinion_h1n1_sick_from_vacc <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'Not at all worried'</span>,</span>
<span id="cb218-15"><a href="#cb218-15" aria-hidden="true" tabindex="-1"></a>        opinion_h1n1_sick_from_vacc <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">'Not very worried'</span>,</span>
<span id="cb218-16"><a href="#cb218-16" aria-hidden="true" tabindex="-1"></a>        opinion_h1n1_sick_from_vacc <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">'Don’t know'</span>,</span>
<span id="cb218-17"><a href="#cb218-17" aria-hidden="true" tabindex="-1"></a>        opinion_h1n1_sick_from_vacc <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">'Somewhat worried'</span>,</span>
<span id="cb218-18"><a href="#cb218-18" aria-hidden="true" tabindex="-1"></a>        opinion_h1n1_sick_from_vacc <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">'Very worried'</span>,</span>
<span id="cb218-19"><a href="#cb218-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(opinion_h1n1_sick_from_vacc)</span>
<span id="cb218-20"><a href="#cb218-20" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb218-21"><a href="#cb218-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb218-22"><a href="#cb218-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_h1n1_sick_from_vacc =</span></span>
<span id="cb218-23"><a href="#cb218-23" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb218-24"><a href="#cb218-24" aria-hidden="true" tabindex="-1"></a>              opinion_h1n1_sick_from_vacc,</span>
<span id="cb218-25"><a href="#cb218-25" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> opinion_h1n1_sick_from_vacc_levels</span>
<span id="cb218-26"><a href="#cb218-26" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb219"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb219-1"><a href="#cb219-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span> </span>
<span id="cb219-2"><a href="#cb219-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(opinion_h1n1_sick_from_vacc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  opinion_h1n1_sick_from_vacc     n
  &lt;fct&gt;                       &lt;int&gt;
1 Not at all worried           8998
2 Not very worried             9129
3 Don’t know                    148
4 Somewhat worried             5850
5 Very worried                 2187
6 &lt;NA&gt;                          395</code></pre>
</div>
<div class="sourceCode cell-code" id="cb221"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb221-1"><a href="#cb221-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(training_set_features<span class="sc">$</span>opinion_h1n1_sick_from_vacc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Not at all worried" "Not very worried"   "Don’t know"        
[4] "Somewhat worried"   "Very worried"      </code></pre>
</div>
</div>
<hr>
</section>
<section id="opinion_seas_vacc_effective-1" class="level5">
<h5 class="anchored" data-anchor-id="opinion_seas_vacc_effective-1"><code>opinion_seas_vacc_effective</code></h5>
<ul>
<li><code>opinion_seas_vacc_effective</code> - Respondent’s opinion about seasonal flu vaccine effectiveness.
<ul>
<li><code>1</code> = Not at all effective</li>
<li><code>2</code> = Not very effective</li>
<li><code>3</code> = Don’t know</li>
<li><code>4</code> = Somewhat effective</li>
<li><code>5</code> = Very effective</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb223"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb223-1"><a href="#cb223-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb223-2"><a href="#cb223-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb223-3"><a href="#cb223-3" aria-hidden="true" tabindex="-1"></a>    opinion_seas_vacc_effective </span>
<span id="cb223-4"><a href="#cb223-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 1
  opinion_seas_vacc_effective
                        &lt;int&gt;
1                           2
2                           4
3                           5
4                           3
5                           1
6                          NA</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb225"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb225-1"><a href="#cb225-1" aria-hidden="true" tabindex="-1"></a>opinion_seas_vacc_effective_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb225-2"><a href="#cb225-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Not at all effective'</span></span>
<span id="cb225-3"><a href="#cb225-3" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Not very effective'</span></span>
<span id="cb225-4"><a href="#cb225-4" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Don’t know'</span></span>
<span id="cb225-5"><a href="#cb225-5" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Somewhat effective'</span></span>
<span id="cb225-6"><a href="#cb225-6" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Very effective'</span></span>
<span id="cb225-7"><a href="#cb225-7" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb225-8"><a href="#cb225-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb225-9"><a href="#cb225-9" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> </span>
<span id="cb225-10"><a href="#cb225-10" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb225-11"><a href="#cb225-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb225-12"><a href="#cb225-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_seas_vacc_effective =</span></span>
<span id="cb225-13"><a href="#cb225-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">case_when</span> (</span>
<span id="cb225-14"><a href="#cb225-14" aria-hidden="true" tabindex="-1"></a>        opinion_seas_vacc_effective <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'Not at all effective'</span>,</span>
<span id="cb225-15"><a href="#cb225-15" aria-hidden="true" tabindex="-1"></a>        opinion_seas_vacc_effective <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">'Not very effective'</span>,</span>
<span id="cb225-16"><a href="#cb225-16" aria-hidden="true" tabindex="-1"></a>        opinion_seas_vacc_effective <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">'Don’t know'</span>,</span>
<span id="cb225-17"><a href="#cb225-17" aria-hidden="true" tabindex="-1"></a>        opinion_seas_vacc_effective <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">'Somewhat effective'</span>,</span>
<span id="cb225-18"><a href="#cb225-18" aria-hidden="true" tabindex="-1"></a>        opinion_seas_vacc_effective <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">'Very effective'</span>,</span>
<span id="cb225-19"><a href="#cb225-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(opinion_seas_vacc_effective)</span>
<span id="cb225-20"><a href="#cb225-20" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb225-21"><a href="#cb225-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb225-22"><a href="#cb225-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_seas_vacc_effective =</span> </span>
<span id="cb225-23"><a href="#cb225-23" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb225-24"><a href="#cb225-24" aria-hidden="true" tabindex="-1"></a>              opinion_seas_vacc_effective,          </span>
<span id="cb225-25"><a href="#cb225-25" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> opinion_seas_vacc_effective_levels</span>
<span id="cb225-26"><a href="#cb225-26" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb226"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb226-1"><a href="#cb226-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span> </span>
<span id="cb226-2"><a href="#cb226-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(opinion_seas_vacc_effective)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  opinion_seas_vacc_effective     n
  &lt;fct&gt;                       &lt;int&gt;
1 Not at all effective         1221
2 Not very effective           2206
3 Don’t know                   1216
4 Somewhat effective          11629
5 Very effective               9973
6 &lt;NA&gt;                          462</code></pre>
</div>
<div class="sourceCode cell-code" id="cb228"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb228-1"><a href="#cb228-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(training_set_features<span class="sc">$</span>opinion_seas_vacc_effective)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Not at all effective" "Not very effective"   "Don’t know"          
[4] "Somewhat effective"   "Very effective"      </code></pre>
</div>
</div>
<hr>
</section>
<section id="opinion_seas_risk-1" class="level5">
<h5 class="anchored" data-anchor-id="opinion_seas_risk-1"><code>opinion_seas_risk</code></h5>
<ul>
<li><p><code>opinion_seas_risk</code> - Respondent’s opinion about risk of getting sick with seasonal flu without vaccine.</p>
<ul>
<li><code>1</code> = Very Low</li>
<li><code>2</code> = Somewhat low</li>
<li><code>3</code> = Don’t know</li>
<li><code>4</code> = Somewhat high</li>
<li><code>5</code> = Very high</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb230"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb230-1"><a href="#cb230-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb230-2"><a href="#cb230-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb230-3"><a href="#cb230-3" aria-hidden="true" tabindex="-1"></a>    opinion_seas_risk </span>
<span id="cb230-4"><a href="#cb230-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 1
  opinion_seas_risk
              &lt;int&gt;
1                 1
2                 2
3                 4
4                 3
5                 5
6                NA</code></pre>
</div>
</div></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb232"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb232-1"><a href="#cb232-1" aria-hidden="true" tabindex="-1"></a>opinion_seas_risk_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb232-2"><a href="#cb232-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Very Low'</span></span>
<span id="cb232-3"><a href="#cb232-3" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Somewhat low'</span></span>
<span id="cb232-4"><a href="#cb232-4" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Don’t know'</span></span>
<span id="cb232-5"><a href="#cb232-5" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Somewhat high'</span></span>
<span id="cb232-6"><a href="#cb232-6" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Very high'</span></span>
<span id="cb232-7"><a href="#cb232-7" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb232-8"><a href="#cb232-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb232-9"><a href="#cb232-9" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> </span>
<span id="cb232-10"><a href="#cb232-10" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb232-11"><a href="#cb232-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb232-12"><a href="#cb232-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_seas_risk =</span></span>
<span id="cb232-13"><a href="#cb232-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">case_when</span> (</span>
<span id="cb232-14"><a href="#cb232-14" aria-hidden="true" tabindex="-1"></a>        opinion_seas_risk <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'Very Low'</span>,</span>
<span id="cb232-15"><a href="#cb232-15" aria-hidden="true" tabindex="-1"></a>        opinion_seas_risk <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">'Somewhat low'</span>,</span>
<span id="cb232-16"><a href="#cb232-16" aria-hidden="true" tabindex="-1"></a>        opinion_seas_risk <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">'Don’t know'</span>,</span>
<span id="cb232-17"><a href="#cb232-17" aria-hidden="true" tabindex="-1"></a>        opinion_seas_risk <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">'Somewhat high'</span>,</span>
<span id="cb232-18"><a href="#cb232-18" aria-hidden="true" tabindex="-1"></a>        opinion_seas_risk <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">'Very high'</span>,</span>
<span id="cb232-19"><a href="#cb232-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(opinion_seas_risk)</span>
<span id="cb232-20"><a href="#cb232-20" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb232-21"><a href="#cb232-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb232-22"><a href="#cb232-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_seas_risk =</span> </span>
<span id="cb232-23"><a href="#cb232-23" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb232-24"><a href="#cb232-24" aria-hidden="true" tabindex="-1"></a>              opinion_seas_risk,</span>
<span id="cb232-25"><a href="#cb232-25" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> opinion_seas_risk_levels </span>
<span id="cb232-26"><a href="#cb232-26" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb233"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb233-1"><a href="#cb233-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb233-2"><a href="#cb233-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(opinion_seas_risk)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  opinion_seas_risk     n
  &lt;fct&gt;             &lt;int&gt;
1 Very Low           5974
2 Somewhat low       8954
3 Don’t know          677
4 Somewhat high      7630
5 Very high          2958
6 &lt;NA&gt;                514</code></pre>
</div>
<div class="sourceCode cell-code" id="cb235"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb235-1"><a href="#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(training_set_features<span class="sc">$</span>opinion_seas_risk)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Very Low"      "Somewhat low"  "Don’t know"    "Somewhat high"
[5] "Very high"    </code></pre>
</div>
</div>
<hr>
</section>
<section id="opinion_seas_sick_from_vacc-1" class="level5">
<h5 class="anchored" data-anchor-id="opinion_seas_sick_from_vacc-1"><code>opinion_seas_sick_from_vacc</code></h5>
<ul>
<li><code>opinion_seas_sick_from_vacc</code> - Respondent’s worry of getting sick from taking seasonal flu vaccine.
<ul>
<li><code>1</code> = Not at all worried</li>
<li><code>2</code> = Not very worried</li>
<li><code>3</code> = Don’t know</li>
<li><code>4</code> = Somewhat worried</li>
<li><code>5</code> = Very worried</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb237"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb237-1"><a href="#cb237-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb237-2"><a href="#cb237-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb237-3"><a href="#cb237-3" aria-hidden="true" tabindex="-1"></a>    opinion_seas_sick_from_vacc  </span>
<span id="cb237-4"><a href="#cb237-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 1
  opinion_seas_sick_from_vacc
                        &lt;int&gt;
1                           2
2                           4
3                           1
4                           5
5                          NA
6                           3</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb239"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb239-1"><a href="#cb239-1" aria-hidden="true" tabindex="-1"></a>opinion_seas_sick_from_vacc_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb239-2"><a href="#cb239-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Not at all worried'</span></span>
<span id="cb239-3"><a href="#cb239-3" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Not very worried'</span></span>
<span id="cb239-4"><a href="#cb239-4" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Don’t know'</span></span>
<span id="cb239-5"><a href="#cb239-5" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Somewhat worried'</span></span>
<span id="cb239-6"><a href="#cb239-6" aria-hidden="true" tabindex="-1"></a>    ,<span class="st">'Very worried'</span></span>
<span id="cb239-7"><a href="#cb239-7" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb239-8"><a href="#cb239-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb239-9"><a href="#cb239-9" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> </span>
<span id="cb239-10"><a href="#cb239-10" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb239-11"><a href="#cb239-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb239-12"><a href="#cb239-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_seas_sick_from_vacc =</span></span>
<span id="cb239-13"><a href="#cb239-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">case_when</span> (</span>
<span id="cb239-14"><a href="#cb239-14" aria-hidden="true" tabindex="-1"></a>        opinion_seas_sick_from_vacc <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'Not at all worried'</span>,</span>
<span id="cb239-15"><a href="#cb239-15" aria-hidden="true" tabindex="-1"></a>        opinion_seas_sick_from_vacc <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">'Not very worried'</span>,</span>
<span id="cb239-16"><a href="#cb239-16" aria-hidden="true" tabindex="-1"></a>        opinion_seas_sick_from_vacc <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">'Don’t know'</span>,</span>
<span id="cb239-17"><a href="#cb239-17" aria-hidden="true" tabindex="-1"></a>        opinion_seas_sick_from_vacc <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">'Somewhat worried'</span>,</span>
<span id="cb239-18"><a href="#cb239-18" aria-hidden="true" tabindex="-1"></a>        opinion_seas_sick_from_vacc <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">'Very worried'</span>,</span>
<span id="cb239-19"><a href="#cb239-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(opinion_seas_sick_from_vacc)  </span>
<span id="cb239-20"><a href="#cb239-20" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb239-21"><a href="#cb239-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb239-22"><a href="#cb239-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">opinion_seas_sick_from_vacc =</span></span>
<span id="cb239-23"><a href="#cb239-23" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb239-24"><a href="#cb239-24" aria-hidden="true" tabindex="-1"></a>              opinion_seas_sick_from_vacc,  </span>
<span id="cb239-25"><a href="#cb239-25" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> opinion_seas_sick_from_vacc_levels</span>
<span id="cb239-26"><a href="#cb239-26" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb240"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb240-1"><a href="#cb240-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb240-2"><a href="#cb240-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(opinion_seas_sick_from_vacc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  opinion_seas_sick_from_vacc     n
  &lt;fct&gt;                       &lt;int&gt;
1 Not at all worried          11870
2 Not very worried             7633
3 Don’t know                     94
4 Somewhat worried             4852
5 Very worried                 1721
6 &lt;NA&gt;                          537</code></pre>
</div>
<div class="sourceCode cell-code" id="cb242"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb242-1"><a href="#cb242-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(training_set_features<span class="sc">$</span>opinion_seas_sick_from_vacc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Not at all worried" "Not very worried"   "Don’t know"        
[4] "Somewhat worried"   "Very worried"      </code></pre>
</div>
</div>
<hr>
</section>
<section id="age_group-1" class="level5">
<h5 class="anchored" data-anchor-id="age_group-1"><code>age_group</code></h5>
<p><code>age_group</code> - Age group of respondent.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb244"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb244-1"><a href="#cb244-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb244-2"><a href="#cb244-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb244-3"><a href="#cb244-3" aria-hidden="true" tabindex="-1"></a>    age_group</span>
<span id="cb244-4"><a href="#cb244-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 1
  age_group    
  &lt;chr&gt;        
1 55 - 64 Years
2 35 - 44 Years
3 18 - 34 Years
4 65+ Years    
5 45 - 54 Years</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb246"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb246-1"><a href="#cb246-1" aria-hidden="true" tabindex="-1"></a>age_group_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb246-2"><a href="#cb246-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'18 - 34 Years'</span></span>
<span id="cb246-3"><a href="#cb246-3" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'35 - 44 Years'</span></span>
<span id="cb246-4"><a href="#cb246-4" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'45 - 54 Years'</span></span>
<span id="cb246-5"><a href="#cb246-5" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'55 - 64 Years'</span></span>
<span id="cb246-6"><a href="#cb246-6" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'65+ Years'</span></span>
<span id="cb246-7"><a href="#cb246-7" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb246-8"><a href="#cb246-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb246-9"><a href="#cb246-9" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> </span>
<span id="cb246-10"><a href="#cb246-10" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb246-11"><a href="#cb246-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb246-12"><a href="#cb246-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_group =</span></span>
<span id="cb246-13"><a href="#cb246-13" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb246-14"><a href="#cb246-14" aria-hidden="true" tabindex="-1"></a>              age_group,  </span>
<span id="cb246-15"><a href="#cb246-15" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> age_group_levels</span>
<span id="cb246-16"><a href="#cb246-16" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb247"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb247-1"><a href="#cb247-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb247-2"><a href="#cb247-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(age_group)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  age_group         n
  &lt;fct&gt;         &lt;int&gt;
1 18 - 34 Years  5215
2 35 - 44 Years  3848
3 45 - 54 Years  5238
4 55 - 64 Years  5563
5 65+ Years      6843</code></pre>
</div>
<div class="sourceCode cell-code" id="cb249"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb249-1"><a href="#cb249-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(training_set_features<span class="sc">$</span>age_group)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "18 - 34 Years" "35 - 44 Years" "45 - 54 Years" "55 - 64 Years"
[5] "65+ Years"    </code></pre>
</div>
</div>
<hr>
</section>
<section id="education-1" class="level5">
<h5 class="anchored" data-anchor-id="education-1"><code>education</code></h5>
<p><code>education</code> - Self-reported education level.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb251"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb251-1"><a href="#cb251-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb251-2"><a href="#cb251-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb251-3"><a href="#cb251-3" aria-hidden="true" tabindex="-1"></a>   education </span>
<span id="cb251-4"><a href="#cb251-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 1
  education       
  &lt;chr&gt;           
1 &lt; 12 Years      
2 12 Years        
3 College Graduate
4 Some College    
5 &lt;NA&gt;            </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb253"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb253-1"><a href="#cb253-1" aria-hidden="true" tabindex="-1"></a>education_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb253-2"><a href="#cb253-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'&lt; 12 Years'</span></span>
<span id="cb253-3"><a href="#cb253-3" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'12 Years'</span></span>
<span id="cb253-4"><a href="#cb253-4" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'Some College'</span></span>
<span id="cb253-5"><a href="#cb253-5" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'College Graduate'</span></span>
<span id="cb253-6"><a href="#cb253-6" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb253-7"><a href="#cb253-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb253-8"><a href="#cb253-8" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> </span>
<span id="cb253-9"><a href="#cb253-9" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb253-10"><a href="#cb253-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb253-11"><a href="#cb253-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">education =</span></span>
<span id="cb253-12"><a href="#cb253-12" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb253-13"><a href="#cb253-13" aria-hidden="true" tabindex="-1"></a>              education,  </span>
<span id="cb253-14"><a href="#cb253-14" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> education_levels</span>
<span id="cb253-15"><a href="#cb253-15" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb254"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb254-1"><a href="#cb254-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb254-2"><a href="#cb254-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(education)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  education            n
  &lt;fct&gt;            &lt;int&gt;
1 &lt; 12 Years        2363
2 12 Years          5797
3 Some College      7043
4 College Graduate 10097
5 &lt;NA&gt;              1407</code></pre>
</div>
<div class="sourceCode cell-code" id="cb256"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb256-1"><a href="#cb256-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(training_set_features<span class="sc">$</span>education)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "&lt; 12 Years"       "12 Years"         "Some College"     "College Graduate"</code></pre>
</div>
</div>
<hr>
</section>
<section id="race-1" class="level5">
<h5 class="anchored" data-anchor-id="race-1"><code>race</code></h5>
<p><code>race</code> - Race of respondent.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb258"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb258-1"><a href="#cb258-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb258-2"><a href="#cb258-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb258-3"><a href="#cb258-3" aria-hidden="true" tabindex="-1"></a>    race </span>
<span id="cb258-4"><a href="#cb258-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 1
  race             
  &lt;chr&gt;            
1 White            
2 Black            
3 Other or Multiple
4 Hispanic         </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb260"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb260-1"><a href="#cb260-1" aria-hidden="true" tabindex="-1"></a>race_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb260-2"><a href="#cb260-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Hispanic'</span></span>
<span id="cb260-3"><a href="#cb260-3" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'White'</span></span>
<span id="cb260-4"><a href="#cb260-4" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'Black'</span></span>
<span id="cb260-5"><a href="#cb260-5" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'Other or Multiple'</span></span>
<span id="cb260-6"><a href="#cb260-6" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb260-7"><a href="#cb260-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb260-8"><a href="#cb260-8" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> </span>
<span id="cb260-9"><a href="#cb260-9" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb260-10"><a href="#cb260-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb260-11"><a href="#cb260-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">race =</span></span>
<span id="cb260-12"><a href="#cb260-12" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb260-13"><a href="#cb260-13" aria-hidden="true" tabindex="-1"></a>              race,  </span>
<span id="cb260-14"><a href="#cb260-14" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> race_levels</span>
<span id="cb260-15"><a href="#cb260-15" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb261"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb261-1"><a href="#cb261-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb261-2"><a href="#cb261-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(race)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  race                  n
  &lt;fct&gt;             &lt;int&gt;
1 Hispanic           1755
2 White             21222
3 Black              2118
4 Other or Multiple  1612</code></pre>
</div>
<div class="sourceCode cell-code" id="cb263"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb263-1"><a href="#cb263-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(training_set_features<span class="sc">$</span>race)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Hispanic"          "White"             "Black"            
[4] "Other or Multiple"</code></pre>
</div>
</div>
<hr>
</section>
<section id="sex-1" class="level5">
<h5 class="anchored" data-anchor-id="sex-1"><code>sex</code></h5>
<p><code>sex</code> - Sex of respondent.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb265"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb265-1"><a href="#cb265-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb265-2"><a href="#cb265-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb265-3"><a href="#cb265-3" aria-hidden="true" tabindex="-1"></a>    sex</span>
<span id="cb265-4"><a href="#cb265-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 1
  sex   
  &lt;chr&gt; 
1 Female
2 Male  </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb267"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb267-1"><a href="#cb267-1" aria-hidden="true" tabindex="-1"></a>sex_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb267-2"><a href="#cb267-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Female'</span></span>
<span id="cb267-3"><a href="#cb267-3" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'Male'</span></span>
<span id="cb267-4"><a href="#cb267-4" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb267-5"><a href="#cb267-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb267-6"><a href="#cb267-6" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> </span>
<span id="cb267-7"><a href="#cb267-7" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb267-8"><a href="#cb267-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb267-9"><a href="#cb267-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">sex =</span></span>
<span id="cb267-10"><a href="#cb267-10" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb267-11"><a href="#cb267-11" aria-hidden="true" tabindex="-1"></a>              sex,  </span>
<span id="cb267-12"><a href="#cb267-12" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> sex_levels</span>
<span id="cb267-13"><a href="#cb267-13" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb268"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb268-1"><a href="#cb268-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb268-2"><a href="#cb268-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  sex        n
  &lt;fct&gt;  &lt;int&gt;
1 Female 15858
2 Male   10849</code></pre>
</div>
<div class="sourceCode cell-code" id="cb270"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb270-1"><a href="#cb270-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(training_set_features<span class="sc">$</span>sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Female" "Male"  </code></pre>
</div>
</div>
<hr>
</section>
<section id="income_poverty-1" class="level5">
<h5 class="anchored" data-anchor-id="income_poverty-1"><code>income_poverty</code></h5>
<p><code>income_poverty</code> - Household annual income of respondent with respect to 2008 Census poverty thresholds.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb272"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb272-1"><a href="#cb272-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb272-2"><a href="#cb272-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb272-3"><a href="#cb272-3" aria-hidden="true" tabindex="-1"></a>    income_poverty</span>
<span id="cb272-4"><a href="#cb272-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 1
  income_poverty           
  &lt;chr&gt;                    
1 Below Poverty            
2 &lt;= $75,000, Above Poverty
3 &gt; $75,000                
4 &lt;NA&gt;                     </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb274"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb274-1"><a href="#cb274-1" aria-hidden="true" tabindex="-1"></a>income_poverty_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb274-2"><a href="#cb274-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Below Poverty'</span></span>
<span id="cb274-3"><a href="#cb274-3" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'&lt;= $75,000, Above Poverty'</span></span>
<span id="cb274-4"><a href="#cb274-4" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'&gt; $75,000'</span></span>
<span id="cb274-5"><a href="#cb274-5" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb274-6"><a href="#cb274-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb274-7"><a href="#cb274-7" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> </span>
<span id="cb274-8"><a href="#cb274-8" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb274-9"><a href="#cb274-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb274-10"><a href="#cb274-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">income_poverty =</span></span>
<span id="cb274-11"><a href="#cb274-11" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb274-12"><a href="#cb274-12" aria-hidden="true" tabindex="-1"></a>              income_poverty,  </span>
<span id="cb274-13"><a href="#cb274-13" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> income_poverty_levels</span>
<span id="cb274-14"><a href="#cb274-14" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb275"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb275-1"><a href="#cb275-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb275-2"><a href="#cb275-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(income_poverty)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  income_poverty                n
  &lt;fct&gt;                     &lt;int&gt;
1 Below Poverty              2697
2 &lt;= $75,000, Above Poverty 12777
3 &gt; $75,000                  6810
4 &lt;NA&gt;                       4423</code></pre>
</div>
<div class="sourceCode cell-code" id="cb277"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb277-1"><a href="#cb277-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(training_set_features<span class="sc">$</span>income_poverty)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Below Poverty"             "&lt;= $75,000, Above Poverty"
[3] "&gt; $75,000"                </code></pre>
</div>
</div>
<hr>
</section>
<section id="marital_status-1" class="level5">
<h5 class="anchored" data-anchor-id="marital_status-1"><code>marital_status</code></h5>
<p><code>marital_status</code> - Marital status of respondent.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb279"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb279-1"><a href="#cb279-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb279-2"><a href="#cb279-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb279-3"><a href="#cb279-3" aria-hidden="true" tabindex="-1"></a>    marital_status </span>
<span id="cb279-4"><a href="#cb279-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 1
  marital_status
  &lt;chr&gt;         
1 Not Married   
2 Married       
3 &lt;NA&gt;          </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb281"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb281-1"><a href="#cb281-1" aria-hidden="true" tabindex="-1"></a>marital_status_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb281-2"><a href="#cb281-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Not Married'</span></span>
<span id="cb281-3"><a href="#cb281-3" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'Married'</span></span>
<span id="cb281-4"><a href="#cb281-4" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb281-5"><a href="#cb281-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb281-6"><a href="#cb281-6" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> </span>
<span id="cb281-7"><a href="#cb281-7" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb281-8"><a href="#cb281-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb281-9"><a href="#cb281-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">marital_status =</span></span>
<span id="cb281-10"><a href="#cb281-10" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb281-11"><a href="#cb281-11" aria-hidden="true" tabindex="-1"></a>              marital_status,  </span>
<span id="cb281-12"><a href="#cb281-12" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> marital_status_levels</span>
<span id="cb281-13"><a href="#cb281-13" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb282"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb282-1"><a href="#cb282-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb282-2"><a href="#cb282-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(marital_status)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  marital_status     n
  &lt;fct&gt;          &lt;int&gt;
1 Not Married    11744
2 Married        13555
3 &lt;NA&gt;            1408</code></pre>
</div>
<div class="sourceCode cell-code" id="cb284"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb284-1"><a href="#cb284-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(training_set_features<span class="sc">$</span>marital_status)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Not Married" "Married"    </code></pre>
</div>
</div>
<hr>
</section>
<section id="rent_or_own-1" class="level5">
<h5 class="anchored" data-anchor-id="rent_or_own-1"><code>rent_or_own</code></h5>
<p>rent_or_own - Housing situation of respondent.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb286"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb286-1"><a href="#cb286-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb286-2"><a href="#cb286-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb286-3"><a href="#cb286-3" aria-hidden="true" tabindex="-1"></a>    rent_or_own</span>
<span id="cb286-4"><a href="#cb286-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 1
  rent_or_own
  &lt;chr&gt;      
1 Own        
2 Rent       
3 &lt;NA&gt;       </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb288"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb288-1"><a href="#cb288-1" aria-hidden="true" tabindex="-1"></a>rent_or_own_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb288-2"><a href="#cb288-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Rent'</span>,</span>
<span id="cb288-3"><a href="#cb288-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Own'</span></span>
<span id="cb288-4"><a href="#cb288-4" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb288-5"><a href="#cb288-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb288-6"><a href="#cb288-6" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> </span>
<span id="cb288-7"><a href="#cb288-7" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb288-8"><a href="#cb288-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb288-9"><a href="#cb288-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">rent_or_own =</span></span>
<span id="cb288-10"><a href="#cb288-10" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb288-11"><a href="#cb288-11" aria-hidden="true" tabindex="-1"></a>              rent_or_own,  </span>
<span id="cb288-12"><a href="#cb288-12" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> rent_or_own_levels</span>
<span id="cb288-13"><a href="#cb288-13" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb289"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb289-1"><a href="#cb289-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb289-2"><a href="#cb289-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(rent_or_own)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  rent_or_own     n
  &lt;fct&gt;       &lt;int&gt;
1 Rent         5929
2 Own         18736
3 &lt;NA&gt;         2042</code></pre>
</div>
<div class="sourceCode cell-code" id="cb291"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb291-1"><a href="#cb291-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(training_set_features<span class="sc">$</span>rent_or_own)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Rent" "Own" </code></pre>
</div>
</div>
<hr>
</section>
<section id="employment_status-1" class="level5">
<h5 class="anchored" data-anchor-id="employment_status-1"><code>employment_status</code></h5>
<p><code>employment_status</code> - Employment status of respondent.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb293"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb293-1"><a href="#cb293-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb293-2"><a href="#cb293-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb293-3"><a href="#cb293-3" aria-hidden="true" tabindex="-1"></a>    employment_status</span>
<span id="cb293-4"><a href="#cb293-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 1
  employment_status 
  &lt;chr&gt;             
1 Not in Labor Force
2 Employed          
3 Unemployed        
4 &lt;NA&gt;              </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb295"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb295-1"><a href="#cb295-1" aria-hidden="true" tabindex="-1"></a>employment_status_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb295-2"><a href="#cb295-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Employed'</span>,</span>
<span id="cb295-3"><a href="#cb295-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Not in Labor Force'</span>,</span>
<span id="cb295-4"><a href="#cb295-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Unemployed'</span></span>
<span id="cb295-5"><a href="#cb295-5" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb295-6"><a href="#cb295-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb295-7"><a href="#cb295-7" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> </span>
<span id="cb295-8"><a href="#cb295-8" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb295-9"><a href="#cb295-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb295-10"><a href="#cb295-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">employment_status =</span></span>
<span id="cb295-11"><a href="#cb295-11" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb295-12"><a href="#cb295-12" aria-hidden="true" tabindex="-1"></a>              employment_status,  </span>
<span id="cb295-13"><a href="#cb295-13" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> employment_status_levels</span>
<span id="cb295-14"><a href="#cb295-14" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb296"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb296-1"><a href="#cb296-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb296-2"><a href="#cb296-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(employment_status)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  employment_status      n
  &lt;fct&gt;              &lt;int&gt;
1 Employed           13560
2 Not in Labor Force 10231
3 Unemployed          1453
4 &lt;NA&gt;                1463</code></pre>
</div>
<div class="sourceCode cell-code" id="cb298"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb298-1"><a href="#cb298-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(training_set_features<span class="sc">$</span>employment_status)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Employed"           "Not in Labor Force" "Unemployed"        </code></pre>
</div>
</div>
<hr>
</section>
<section id="hhs_geo_region-1" class="level5">
<h5 class="anchored" data-anchor-id="hhs_geo_region-1"><code>hhs_geo_region</code></h5>
<p><code>hhs_geo_region</code> - Respondent’s residence using a 10-region geographic classification defined by the U.S. Dept. of Health and Human Services. Values are represented as short random character strings.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb300"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb300-1"><a href="#cb300-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb300-2"><a href="#cb300-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb300-3"><a href="#cb300-3" aria-hidden="true" tabindex="-1"></a>    hhs_geo_region</span>
<span id="cb300-4"><a href="#cb300-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 1
   hhs_geo_region
   &lt;chr&gt;         
 1 oxchjgsf      
 2 bhuqouqj      
 3 qufhixun      
 4 lrircsnp      
 5 atmpeygn      
 6 lzgpxyit      
 7 fpwskwrf      
 8 mlyzmhmf      
 9 dqpwygqj      
10 kbazzjca      </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb302"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb302-1"><a href="#cb302-1" aria-hidden="true" tabindex="-1"></a>hhs_geo_region_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb302-2"><a href="#cb302-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'mlyzmhmf'</span></span>
<span id="cb302-3"><a href="#cb302-3" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'bhuqouqj'</span></span>
<span id="cb302-4"><a href="#cb302-4" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'lrircsnp'</span></span>
<span id="cb302-5"><a href="#cb302-5" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'lzgpxyit'</span></span>
<span id="cb302-6"><a href="#cb302-6" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'fpwskwrf'</span></span>
<span id="cb302-7"><a href="#cb302-7" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'oxchjgsf'</span></span>
<span id="cb302-8"><a href="#cb302-8" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'dqpwygqj'</span></span>
<span id="cb302-9"><a href="#cb302-9" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'qufhixun'</span></span>
<span id="cb302-10"><a href="#cb302-10" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'kbazzjca'</span></span>
<span id="cb302-11"><a href="#cb302-11" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">'atmpeygn'</span></span>
<span id="cb302-12"><a href="#cb302-12" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb302-13"><a href="#cb302-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb302-14"><a href="#cb302-14" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> </span>
<span id="cb302-15"><a href="#cb302-15" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb302-16"><a href="#cb302-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb302-17"><a href="#cb302-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">hhs_geo_region =</span></span>
<span id="cb302-18"><a href="#cb302-18" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb302-19"><a href="#cb302-19" aria-hidden="true" tabindex="-1"></a>              hhs_geo_region,  </span>
<span id="cb302-20"><a href="#cb302-20" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> hhs_geo_region_levels </span>
<span id="cb302-21"><a href="#cb302-21" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb303"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb303-1"><a href="#cb303-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb303-2"><a href="#cb303-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(hhs_geo_region)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 2
   hhs_geo_region     n
   &lt;fct&gt;          &lt;int&gt;
 1 mlyzmhmf        2243
 2 bhuqouqj        2846
 3 lrircsnp        2078
 4 lzgpxyit        4297
 5 fpwskwrf        3265
 6 oxchjgsf        2859
 7 dqpwygqj        1126
 8 qufhixun        3102
 9 kbazzjca        2858
10 atmpeygn        2033</code></pre>
</div>
<div class="sourceCode cell-code" id="cb305"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb305-1"><a href="#cb305-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(training_set_features<span class="sc">$</span>hhs_geo_region)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "mlyzmhmf" "bhuqouqj" "lrircsnp" "lzgpxyit" "fpwskwrf" "oxchjgsf"
 [7] "dqpwygqj" "qufhixun" "kbazzjca" "atmpeygn"</code></pre>
</div>
</div>
<hr>
</section>
<section id="census_msa-1" class="level5">
<h5 class="anchored" data-anchor-id="census_msa-1"><code>census_msa</code></h5>
<p><code>census_msa</code> - Respondent’s residence within metropolitan statistical areas (MSA) as defined by the U.S. Census.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb307"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb307-1"><a href="#cb307-1" aria-hidden="true" tabindex="-1"></a>census_msa_levels <span class="ot">&lt;-</span> </span>
<span id="cb307-2"><a href="#cb307-2" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb307-3"><a href="#cb307-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb307-4"><a href="#cb307-4" aria-hidden="true" tabindex="-1"></a>    census_msa</span>
<span id="cb307-5"><a href="#cb307-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb307-6"><a href="#cb307-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>() <span class="sc">|&gt;</span></span>
<span id="cb307-7"><a href="#cb307-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It’s best practice to not have <code>NA</code> as a factor level. The parquet file format will not work if there is a <code>NA</code> level in a factor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb308"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb308-1"><a href="#cb308-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> </span>
<span id="cb308-2"><a href="#cb308-2" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb308-3"><a href="#cb308-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb308-4"><a href="#cb308-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">census_msa =</span></span>
<span id="cb308-5"><a href="#cb308-5" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb308-6"><a href="#cb308-6" aria-hidden="true" tabindex="-1"></a>              census_msa,  </span>
<span id="cb308-7"><a href="#cb308-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> census_msa_levels</span>
<span id="cb308-8"><a href="#cb308-8" aria-hidden="true" tabindex="-1"></a>  )) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb309"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb309-1"><a href="#cb309-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb309-2"><a href="#cb309-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(census_msa)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  census_msa                   n
  &lt;fct&gt;                    &lt;int&gt;
1 Non-MSA                   7198
2 MSA, Not Principle  City 11645
3 MSA, Principle City       7864</code></pre>
</div>
<div class="sourceCode cell-code" id="cb311"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb311-1"><a href="#cb311-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(training_set_features<span class="sc">$</span>census_msa)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Non-MSA"                  "MSA, Not Principle  City"
[3] "MSA, Principle City"     </code></pre>
</div>
</div>
<hr>
</section>
<section id="household_adults-1" class="level5">
<h5 class="anchored" data-anchor-id="household_adults-1"><code>household_adults</code></h5>
<p><code>household_adults</code> - Number of <em>other</em> adults in household, top-coded to 3.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb313"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb313-1"><a href="#cb313-1" aria-hidden="true" tabindex="-1"></a>household_adults_levels <span class="ot">&lt;-</span> </span>
<span id="cb313-2"><a href="#cb313-2" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb313-3"><a href="#cb313-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb313-4"><a href="#cb313-4" aria-hidden="true" tabindex="-1"></a>    household_adults</span>
<span id="cb313-5"><a href="#cb313-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb313-6"><a href="#cb313-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>() <span class="sc">|&gt;</span></span>
<span id="cb313-7"><a href="#cb313-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It’s best practice to not have <code>NA</code> as a factor level. The parquet file format will not work if there is a <code>NA</code> level in a factor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb314"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb314-1"><a href="#cb314-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> </span>
<span id="cb314-2"><a href="#cb314-2" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb314-3"><a href="#cb314-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb314-4"><a href="#cb314-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">household_adults =</span></span>
<span id="cb314-5"><a href="#cb314-5" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb314-6"><a href="#cb314-6" aria-hidden="true" tabindex="-1"></a>              household_adults,  </span>
<span id="cb314-7"><a href="#cb314-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> household_adults_levels</span>
<span id="cb314-8"><a href="#cb314-8" aria-hidden="true" tabindex="-1"></a>  )) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb315"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb315-1"><a href="#cb315-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb315-2"><a href="#cb315-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(household_adults)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  household_adults     n
  &lt;fct&gt;            &lt;int&gt;
1 0                 8056
2 2                 2803
3 1                14474
4 3                 1125
5 &lt;NA&gt;               249</code></pre>
</div>
<div class="sourceCode cell-code" id="cb317"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb317-1"><a href="#cb317-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(training_set_features<span class="sc">$</span>household_adults)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "0" "2" "1" "3"</code></pre>
</div>
</div>
<hr>
</section>
<section id="household_children-1" class="level5">
<h5 class="anchored" data-anchor-id="household_children-1"><code>household_children</code></h5>
<p><code>household_children</code> - Number of children in household, top-coded to 3.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb319"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb319-1"><a href="#cb319-1" aria-hidden="true" tabindex="-1"></a>household_children_levels <span class="ot">&lt;-</span> </span>
<span id="cb319-2"><a href="#cb319-2" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb319-3"><a href="#cb319-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb319-4"><a href="#cb319-4" aria-hidden="true" tabindex="-1"></a>    household_children</span>
<span id="cb319-5"><a href="#cb319-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb319-6"><a href="#cb319-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>() <span class="sc">|&gt;</span></span>
<span id="cb319-7"><a href="#cb319-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It’s best practice to not have <code>NA</code> as a factor level. The parquet file format will not work if there is a <code>NA</code> level in a factor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb320"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb320-1"><a href="#cb320-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> </span>
<span id="cb320-2"><a href="#cb320-2" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb320-3"><a href="#cb320-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb320-4"><a href="#cb320-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">household_children =</span></span>
<span id="cb320-5"><a href="#cb320-5" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb320-6"><a href="#cb320-6" aria-hidden="true" tabindex="-1"></a>              household_children,  </span>
<span id="cb320-7"><a href="#cb320-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> household_children_levels</span>
<span id="cb320-8"><a href="#cb320-8" aria-hidden="true" tabindex="-1"></a>  )) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb321"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb321-1"><a href="#cb321-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb321-2"><a href="#cb321-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(household_children)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  household_children     n
  &lt;fct&gt;              &lt;int&gt;
1 0                  18672
2 3                   1747
3 2                   2864
4 1                   3175
5 &lt;NA&gt;                 249</code></pre>
</div>
<div class="sourceCode cell-code" id="cb323"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb323-1"><a href="#cb323-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(training_set_features<span class="sc">$</span>household_children)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "0" "3" "2" "1"</code></pre>
</div>
</div>
<hr>
</section>
<section id="employment_industry-1" class="level5">
<h5 class="anchored" data-anchor-id="employment_industry-1"><code>employment_industry</code></h5>
<p><code>employment_industry</code> - Type of industry respondent is employed in. Values are represented as short random character strings.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb325"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb325-1"><a href="#cb325-1" aria-hidden="true" tabindex="-1"></a>employment_industry_levels <span class="ot">&lt;-</span> </span>
<span id="cb325-2"><a href="#cb325-2" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb325-3"><a href="#cb325-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb325-4"><a href="#cb325-4" aria-hidden="true" tabindex="-1"></a>    employment_industry </span>
<span id="cb325-5"><a href="#cb325-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb325-6"><a href="#cb325-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>() <span class="sc">|&gt;</span></span>
<span id="cb325-7"><a href="#cb325-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It’s best practice to not have <code>NA</code> as a factor level. The parquet file format will not work if there is a <code>NA</code> level in a factor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb326"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb326-1"><a href="#cb326-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> </span>
<span id="cb326-2"><a href="#cb326-2" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb326-3"><a href="#cb326-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb326-4"><a href="#cb326-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">employment_industry =</span></span>
<span id="cb326-5"><a href="#cb326-5" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb326-6"><a href="#cb326-6" aria-hidden="true" tabindex="-1"></a>              employment_industry,  </span>
<span id="cb326-7"><a href="#cb326-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> employment_industry_levels </span>
<span id="cb326-8"><a href="#cb326-8" aria-hidden="true" tabindex="-1"></a>  )) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb327"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb327-1"><a href="#cb327-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb327-2"><a href="#cb327-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(employment_industry)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 22 × 2
   employment_industry     n
   &lt;fct&gt;               &lt;int&gt;
 1 pxcmvdjn             1037
 2 rucpziij              523
 3 wxleyezf             1804
 4 saaquncn              338
 5 xicduogh              851
 6 ldnlellj             1231
 7 wlfvacwt              215
 8 nduyfdeo              286
 9 fcxhlnwr             2468
10 vjjrobsf              527
# ℹ 12 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb329"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb329-1"><a href="#cb329-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(training_set_features<span class="sc">$</span>employment_industry)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "pxcmvdjn" "rucpziij" "wxleyezf" "saaquncn" "xicduogh" "ldnlellj"
 [7] "wlfvacwt" "nduyfdeo" "fcxhlnwr" "vjjrobsf" "arjwrbjb" "atmlpfrs"
[13] "msuufmds" "xqicxuve" "phxvnwax" "dotnnunm" "mfikgejo" "cfqqtusy"
[19] "mcubkhph" "haxffmxo" "qnlwzans"</code></pre>
</div>
</div>
<hr>
</section>
<section id="employment_occupation-1" class="level5">
<h5 class="anchored" data-anchor-id="employment_occupation-1"><code>employment_occupation</code></h5>
<p><code>employment_occupation</code> - Type of occupation of respondent. Values are represented as short random character strings.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb331"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb331-1"><a href="#cb331-1" aria-hidden="true" tabindex="-1"></a>employment_occupation_levels <span class="ot">&lt;-</span> </span>
<span id="cb331-2"><a href="#cb331-2" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb331-3"><a href="#cb331-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(</span>
<span id="cb331-4"><a href="#cb331-4" aria-hidden="true" tabindex="-1"></a>    employment_occupation</span>
<span id="cb331-5"><a href="#cb331-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb331-6"><a href="#cb331-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>() <span class="sc">|&gt;</span></span>
<span id="cb331-7"><a href="#cb331-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It’s best practice to not have <code>NA</code> as a factor level. The parquet file format will not work if there is a <code>NA</code> level in a factor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb332"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb332-1"><a href="#cb332-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="ot">&lt;-</span> </span>
<span id="cb332-2"><a href="#cb332-2" aria-hidden="true" tabindex="-1"></a>  training_set_features <span class="sc">|&gt;</span></span>
<span id="cb332-3"><a href="#cb332-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb332-4"><a href="#cb332-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">employment_occupation =</span></span>
<span id="cb332-5"><a href="#cb332-5" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct</span>(</span>
<span id="cb332-6"><a href="#cb332-6" aria-hidden="true" tabindex="-1"></a>              employment_occupation,  </span>
<span id="cb332-7"><a href="#cb332-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">levels =</span> employment_occupation_levels</span>
<span id="cb332-8"><a href="#cb332-8" aria-hidden="true" tabindex="-1"></a>  )) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb333"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb333-1"><a href="#cb333-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb333-2"><a href="#cb333-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(employment_occupation)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24 × 2
   employment_occupation     n
   &lt;fct&gt;                 &lt;int&gt;
 1 xgwztkwe               1082
 2 xtkaffoo               1778
 3 emcorrxb               1270
 4 vlluhbov                354
 5 xqwwgdyp                485
 6 ccgxvspp                341
 7 qxajmpny                548
 8 kldqjyjy                469
 9 mxkfnird               1509
10 hfxkjkmi                766
# ℹ 14 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb335"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb335-1"><a href="#cb335-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(training_set_features<span class="sc">$</span>employment_occupation)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "xgwztkwe" "xtkaffoo" "emcorrxb" "vlluhbov" "xqwwgdyp" "ccgxvspp"
 [7] "qxajmpny" "kldqjyjy" "mxkfnird" "hfxkjkmi" "bxpfxfdn" "ukymxvdu"
[13] "cmhcxjea" "haliazsg" "dlvbwzss" "xzmlyyjv" "oijqvulv" "rcertsgn"
[19] "tfqavkke" "hodpvpew" "uqqtjvyb" "pvmttkik" "dcjcmpih"</code></pre>
</div>
</div>
<hr>
</section>
</section>
</section>
</section>
<section id="combine-the-training_set_labels-and-training_set_features-dataset-together." class="level1">
<h1>Combine the <code>training_set_labels</code> and <code>training_set_features</code> dataset together.</h1>
<section id="check-to-make-sure-the-keys-are-unique" class="level3">
<h3 class="anchored" data-anchor-id="check-to-make-sure-the-keys-are-unique">check to make sure the keys are unique</h3>
<p>Count the primary keys and look for entries where <code>n</code> is greater than one:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb337"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb337-1"><a href="#cb337-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb337-2"><a href="#cb337-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(respondent_id) <span class="sc">|&gt;</span></span>
<span id="cb337-3"><a href="#cb337-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 2
# ℹ 2 variables: respondent_id &lt;chr&gt;, n &lt;int&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb339"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb339-1"><a href="#cb339-1" aria-hidden="true" tabindex="-1"></a>training_set_labels <span class="sc">|&gt;</span></span>
<span id="cb339-2"><a href="#cb339-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(respondent_id) <span class="sc">|&gt;</span></span>
<span id="cb339-3"><a href="#cb339-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 2
# ℹ 2 variables: respondent_id &lt;chr&gt;, n &lt;int&gt;</code></pre>
</div>
</div>
<p>Good, there are none so <code>respondent_id</code> uniquely identifies rows in both data sets.</p>
</section>
<section id="check-if-there-are-missing-value-for-keys" class="level3">
<h3 class="anchored" data-anchor-id="check-if-there-are-missing-value-for-keys">Check if there are missing value for keys</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb341"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb341-1"><a href="#cb341-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb341-2"><a href="#cb341-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(respondent_id))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 36
# ℹ 36 variables: respondent_id &lt;chr&gt;, h1n1_concern &lt;fct&gt;,
#   h1n1_knowledge &lt;fct&gt;, behavioral_antiviral_meds &lt;lgl&gt;,
#   behavioral_avoidance &lt;lgl&gt;, behavioral_face_mask &lt;lgl&gt;,
#   behavioral_wash_hands &lt;lgl&gt;, behavioral_large_gatherings &lt;lgl&gt;,
#   behavioral_outside_home &lt;lgl&gt;, behavioral_touch_face &lt;lgl&gt;,
#   doctor_recc_h1n1 &lt;lgl&gt;, doctor_recc_seasonal &lt;lgl&gt;,
#   chronic_med_condition &lt;lgl&gt;, child_under_6_months &lt;lgl&gt;, …</code></pre>
</div>
<div class="sourceCode cell-code" id="cb343"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb343-1"><a href="#cb343-1" aria-hidden="true" tabindex="-1"></a>training_set_labels <span class="sc">|&gt;</span></span>
<span id="cb343-2"><a href="#cb343-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(respondent_id))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 3
# ℹ 3 variables: respondent_id &lt;chr&gt;, h1n1_vaccine &lt;int&gt;,
#   seasonal_vaccine &lt;int&gt;</code></pre>
</div>
</div>
<p>Good, there are no rows with missing primary keys. We can identify each rows/observations in both data set.</p>
</section>
<section id="join-the-dataset-with-an-inner-join" class="level3">
<h3 class="anchored" data-anchor-id="join-the-dataset-with-an-inner-join">Join the dataset with an Inner Join</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb345"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb345-1"><a href="#cb345-1" aria-hidden="true" tabindex="-1"></a>training_set <span class="ot">&lt;-</span></span>
<span id="cb345-2"><a href="#cb345-2" aria-hidden="true" tabindex="-1"></a>  training_set_labels <span class="sc">|&gt;</span></span>
<span id="cb345-3"><a href="#cb345-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(training_set_features, <span class="fu">join_by</span>(respondent_id))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
</section>
<section id="storing-the-cleaned-datasets" class="level1">
<h1>Storing the cleaned datasets</h1>
<p>I’m going to store it in a better data format than CSV.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb346"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb346-1"><a href="#cb346-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(arrow)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'arrow'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:lubridate':

    duration</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:utils':

    timestamp</code></pre>
</div>
</div>
<section id="make-sure-the-data-set-are-formatted-correctly" class="level2">
<h2 class="anchored" data-anchor-id="make-sure-the-data-set-are-formatted-correctly">Make sure the data set are formatted correctly</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb350"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb350-1"><a href="#cb350-1" aria-hidden="true" tabindex="-1"></a>training_set <span class="sc">|&gt;</span></span>
<span id="cb350-2"><a href="#cb350-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 26,707
Columns: 38
$ respondent_id               &lt;chr&gt; "0", "1", "2", "3", "4", "5", "6", "7", "8…
$ h1n1_vaccine                &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 0, 0, …
$ seasonal_vaccine            &lt;int&gt; 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 1, 1, 1, 0, …
$ h1n1_concern                &lt;fct&gt; Not very concerned, Very concerned, Not ve…
$ h1n1_knowledge              &lt;fct&gt; No knowledge, A lot of knowledge, A little…
$ behavioral_antiviral_meds   &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …
$ behavioral_avoidance        &lt;lgl&gt; FALSE, TRUE, TRUE, TRUE, TRUE, TRUE, FALSE…
$ behavioral_face_mask        &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …
$ behavioral_wash_hands       &lt;lgl&gt; FALSE, TRUE, FALSE, TRUE, TRUE, TRUE, FALS…
$ behavioral_large_gatherings &lt;lgl&gt; FALSE, FALSE, FALSE, TRUE, TRUE, FALSE, FA…
$ behavioral_outside_home     &lt;lgl&gt; TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FA…
$ behavioral_touch_face       &lt;lgl&gt; TRUE, TRUE, FALSE, FALSE, TRUE, TRUE, FALS…
$ doctor_recc_h1n1            &lt;lgl&gt; FALSE, FALSE, NA, FALSE, FALSE, FALSE, FAL…
$ doctor_recc_seasonal        &lt;lgl&gt; FALSE, FALSE, NA, TRUE, FALSE, TRUE, FALSE…
$ chronic_med_condition       &lt;lgl&gt; FALSE, FALSE, TRUE, TRUE, FALSE, FALSE, FA…
$ child_under_6_months        &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …
$ health_worker               &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …
$ health_insurance            &lt;lgl&gt; TRUE, TRUE, NA, NA, NA, NA, NA, TRUE, NA, …
$ opinion_h1n1_vacc_effective &lt;fct&gt; Don’t know, Very effective, Don’t know, Do…
$ opinion_h1n1_risk           &lt;fct&gt; Very Low, Somewhat high, Very Low, Don’t k…
$ opinion_h1n1_sick_from_vacc &lt;fct&gt; Not very worried, Somewhat worried, Not at…
$ opinion_seas_vacc_effective &lt;fct&gt; Not very effective, Somewhat effective, So…
$ opinion_seas_risk           &lt;fct&gt; Very Low, Somewhat low, Very Low, Somewhat…
$ opinion_seas_sick_from_vacc &lt;fct&gt; Not very worried, Somewhat worried, Not ve…
$ age_group                   &lt;fct&gt; 55 - 64 Years, 35 - 44 Years, 18 - 34 Year…
$ education                   &lt;fct&gt; &lt; 12 Years, 12 Years, College Graduate, 12…
$ race                        &lt;fct&gt; White, White, White, White, White, White, …
$ sex                         &lt;fct&gt; Female, Male, Male, Female, Female, Male, …
$ income_poverty              &lt;fct&gt; "Below Poverty", "Below Poverty", "&lt;= $75,…
$ marital_status              &lt;fct&gt; Not Married, Not Married, Not Married, Not…
$ rent_or_own                 &lt;fct&gt; Own, Rent, Own, Rent, Own, Own, Own, Own, …
$ employment_status           &lt;fct&gt; Not in Labor Force, Employed, Employed, No…
$ hhs_geo_region              &lt;fct&gt; oxchjgsf, bhuqouqj, qufhixun, lrircsnp, qu…
$ census_msa                  &lt;fct&gt; "Non-MSA", "MSA, Not Principle  City", "MS…
$ household_adults            &lt;fct&gt; 0, 0, 2, 0, 1, 2, 0, 2, 1, 0, 2, 1, 1, 1, …
$ household_children          &lt;fct&gt; 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 2, 0, 2, …
$ employment_industry         &lt;fct&gt; NA, pxcmvdjn, rucpziij, NA, wxleyezf, saaq…
$ employment_occupation       &lt;fct&gt; NA, xgwztkwe, xtkaffoo, NA, emcorrxb, vllu…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb352"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb352-1"><a href="#cb352-1" aria-hidden="true" tabindex="-1"></a>training_set_labels <span class="sc">|&gt;</span></span>
<span id="cb352-2"><a href="#cb352-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 26,707
Columns: 3
$ respondent_id    &lt;chr&gt; "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10…
$ h1n1_vaccine     &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0,…
$ seasonal_vaccine &lt;int&gt; 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 1, 1, 1, 0, 0, 0, 1, 0,…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb354"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb354-1"><a href="#cb354-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb354-2"><a href="#cb354-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 26,707
Columns: 36
$ respondent_id               &lt;chr&gt; "0", "1", "2", "3", "4", "5", "6", "7", "8…
$ h1n1_concern                &lt;fct&gt; Not very concerned, Very concerned, Not ve…
$ h1n1_knowledge              &lt;fct&gt; No knowledge, A lot of knowledge, A little…
$ behavioral_antiviral_meds   &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …
$ behavioral_avoidance        &lt;lgl&gt; FALSE, TRUE, TRUE, TRUE, TRUE, TRUE, FALSE…
$ behavioral_face_mask        &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …
$ behavioral_wash_hands       &lt;lgl&gt; FALSE, TRUE, FALSE, TRUE, TRUE, TRUE, FALS…
$ behavioral_large_gatherings &lt;lgl&gt; FALSE, FALSE, FALSE, TRUE, TRUE, FALSE, FA…
$ behavioral_outside_home     &lt;lgl&gt; TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FA…
$ behavioral_touch_face       &lt;lgl&gt; TRUE, TRUE, FALSE, FALSE, TRUE, TRUE, FALS…
$ doctor_recc_h1n1            &lt;lgl&gt; FALSE, FALSE, NA, FALSE, FALSE, FALSE, FAL…
$ doctor_recc_seasonal        &lt;lgl&gt; FALSE, FALSE, NA, TRUE, FALSE, TRUE, FALSE…
$ chronic_med_condition       &lt;lgl&gt; FALSE, FALSE, TRUE, TRUE, FALSE, FALSE, FA…
$ child_under_6_months        &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …
$ health_worker               &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …
$ health_insurance            &lt;lgl&gt; TRUE, TRUE, NA, NA, NA, NA, NA, TRUE, NA, …
$ opinion_h1n1_vacc_effective &lt;fct&gt; Don’t know, Very effective, Don’t know, Do…
$ opinion_h1n1_risk           &lt;fct&gt; Very Low, Somewhat high, Very Low, Don’t k…
$ opinion_h1n1_sick_from_vacc &lt;fct&gt; Not very worried, Somewhat worried, Not at…
$ opinion_seas_vacc_effective &lt;fct&gt; Not very effective, Somewhat effective, So…
$ opinion_seas_risk           &lt;fct&gt; Very Low, Somewhat low, Very Low, Somewhat…
$ opinion_seas_sick_from_vacc &lt;fct&gt; Not very worried, Somewhat worried, Not ve…
$ age_group                   &lt;fct&gt; 55 - 64 Years, 35 - 44 Years, 18 - 34 Year…
$ education                   &lt;fct&gt; &lt; 12 Years, 12 Years, College Graduate, 12…
$ race                        &lt;fct&gt; White, White, White, White, White, White, …
$ sex                         &lt;fct&gt; Female, Male, Male, Female, Female, Male, …
$ income_poverty              &lt;fct&gt; "Below Poverty", "Below Poverty", "&lt;= $75,…
$ marital_status              &lt;fct&gt; Not Married, Not Married, Not Married, Not…
$ rent_or_own                 &lt;fct&gt; Own, Rent, Own, Rent, Own, Own, Own, Own, …
$ employment_status           &lt;fct&gt; Not in Labor Force, Employed, Employed, No…
$ hhs_geo_region              &lt;fct&gt; oxchjgsf, bhuqouqj, qufhixun, lrircsnp, qu…
$ census_msa                  &lt;fct&gt; "Non-MSA", "MSA, Not Principle  City", "MS…
$ household_adults            &lt;fct&gt; 0, 0, 2, 0, 1, 2, 0, 2, 1, 0, 2, 1, 1, 1, …
$ household_children          &lt;fct&gt; 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 2, 0, 2, …
$ employment_industry         &lt;fct&gt; NA, pxcmvdjn, rucpziij, NA, wxleyezf, saaq…
$ employment_occupation       &lt;fct&gt; NA, xgwztkwe, xtkaffoo, NA, emcorrxb, vllu…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb356"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb356-1"><a href="#cb356-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb356-2"><a href="#cb356-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 26,708
Columns: 36
$ respondent_id               &lt;chr&gt; "26707", "26708", "26709", "26710", "26711…
$ h1n1_concern                &lt;fct&gt; Somewhat concerned, Not very concerned, So…
$ h1n1_knowledge              &lt;fct&gt; A lot of knowledge, A little knowledge, A …
$ behavioral_antiviral_meds   &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, F…
$ behavioral_avoidance        &lt;lgl&gt; TRUE, FALSE, FALSE, FALSE, TRUE, TRUE, TRU…
$ behavioral_face_mask        &lt;lgl&gt; FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, F…
$ behavioral_wash_hands       &lt;lgl&gt; TRUE, FALSE, TRUE, FALSE, TRUE, TRUE, TRUE…
$ behavioral_large_gatherings &lt;lgl&gt; TRUE, FALSE, TRUE, FALSE, TRUE, TRUE, TRUE…
$ behavioral_outside_home     &lt;lgl&gt; FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, FA…
$ behavioral_touch_face       &lt;lgl&gt; TRUE, FALSE, TRUE, FALSE, TRUE, TRUE, TRUE…
$ doctor_recc_h1n1            &lt;lgl&gt; FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, T…
$ doctor_recc_seasonal        &lt;lgl&gt; FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, T…
$ chronic_med_condition       &lt;lgl&gt; FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, F…
$ child_under_6_months        &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …
$ health_worker               &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, FA…
$ health_insurance            &lt;lgl&gt; TRUE, FALSE, NA, TRUE, TRUE, TRUE, NA, TRU…
$ opinion_h1n1_vacc_effective &lt;fct&gt; Very effective, Somewhat effective, Very e…
$ opinion_h1n1_risk           &lt;fct&gt; Very Low, Very Low, Somewhat high, Somewha…
$ opinion_h1n1_sick_from_vacc &lt;fct&gt; Not at all worried, Not at all worried, No…
$ opinion_seas_vacc_effective &lt;fct&gt; Very effective, Somewhat effective, Very e…
$ opinion_seas_risk           &lt;fct&gt; Very Low, Very Low, Somewhat high, Somewha…
$ opinion_seas_sick_from_vacc &lt;fct&gt; Not at all worried, Not at all worried, So…
$ age_group                   &lt;fct&gt; 35 - 44 Years, 18 - 34 Years, 55 - 64 Year…
$ education                   &lt;fct&gt; College Graduate, 12 Years, College Gradua…
$ race                        &lt;fct&gt; Hispanic, White, White, White, Black, Whit…
$ sex                         &lt;fct&gt; Female, Male, Male, Female, Female, Female…
$ income_poverty              &lt;fct&gt; "&gt; $75,000", "Below Poverty", "&gt; $75,000",…
$ marital_status              &lt;fct&gt; Not Married, Not Married, Married, Married…
$ rent_or_own                 &lt;fct&gt; Rent, Rent, Own, Own, Own, Own, Own, Own, …
$ employment_status           &lt;fct&gt; Employed, Employed, Employed, Not in Labor…
$ hhs_geo_region              &lt;fct&gt; mlyzmhmf, bhuqouqj, lrircsnp, lrircsnp, lz…
$ census_msa                  &lt;fct&gt; "MSA, Not Principle  City", "Non-MSA", "No…
$ household_adults            &lt;fct&gt; 1, 3, 1, 1, 0, 0, 1, 1, 1, 0, 0, 0, 0, 2, …
$ household_children          &lt;fct&gt; 0, 0, 0, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, …
$ employment_industry         &lt;fct&gt; atmlpfrs, atmlpfrs, nduyfdeo, NA, fcxhlnwr…
$ employment_occupation       &lt;fct&gt; hfxkjkmi, xqwwgdyp, pvmttkik, NA, mxkfnird…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb358"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb358-1"><a href="#cb358-1" aria-hidden="true" tabindex="-1"></a>submission_format <span class="sc">|&gt;</span></span>
<span id="cb358-2"><a href="#cb358-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 26,708
Columns: 3
$ respondent_id    &lt;chr&gt; "26707", "26708", "26709", "26710", "26711", "26712",…
$ h1n1_vaccine     &lt;dbl&gt; 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5…
$ seasonal_vaccine &lt;dbl&gt; 0.7, 0.7, 0.7, 0.7, 0.7, 0.7, 0.7, 0.7, 0.7, 0.7, 0.7…</code></pre>
</div>
</div>
</section>
<section id="storing-in-parquet-file-format" class="level2">
<h2 class="anchored" data-anchor-id="storing-in-parquet-file-format">Storing in Parquet file format</h2>
<section id="training_set_labels" class="level3">
<h3 class="anchored" data-anchor-id="training_set_labels"><code>training_set_labels</code></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb360"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb360-1"><a href="#cb360-1" aria-hidden="true" tabindex="-1"></a>mainDir <span class="ot">&lt;-</span> <span class="st">'data/cleaned_data'</span></span>
<span id="cb360-2"><a href="#cb360-2" aria-hidden="true" tabindex="-1"></a>subDir <span class="ot">&lt;-</span> <span class="st">'training_set_labels'</span></span>
<span id="cb360-3"><a href="#cb360-3" aria-hidden="true" tabindex="-1"></a>training_set_labels_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(mainDir, subDir)</span>
<span id="cb360-4"><a href="#cb360-4" aria-hidden="true" tabindex="-1"></a>training_set_labels_path <span class="sc">|&gt;</span></span>
<span id="cb360-5"><a href="#cb360-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(<span class="at">showWarnings =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb361"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb361-1"><a href="#cb361-1" aria-hidden="true" tabindex="-1"></a>training_set_labels <span class="sc">|&gt;</span></span>
<span id="cb361-2"><a href="#cb361-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write_dataset</span>(</span>
<span id="cb361-3"><a href="#cb361-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">path =</span> training_set_labels_path, </span>
<span id="cb361-4"><a href="#cb361-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">format =</span> <span class="st">"parquet"</span></span>
<span id="cb361-5"><a href="#cb361-5" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb362"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb362-1"><a href="#cb362-1" aria-hidden="true" tabindex="-1"></a>training_set_labels_pq <span class="ot">&lt;-</span> </span>
<span id="cb362-2"><a href="#cb362-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read_parquet</span>(</span>
<span id="cb362-3"><a href="#cb362-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(training_set_labels_path,<span class="st">"part-0.parquet"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="training_set_features" class="level3">
<h3 class="anchored" data-anchor-id="training_set_features"><code>training_set_features</code></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb363"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb363-1"><a href="#cb363-1" aria-hidden="true" tabindex="-1"></a>mainDir <span class="ot">&lt;-</span> <span class="st">'data/cleaned_data'</span></span>
<span id="cb363-2"><a href="#cb363-2" aria-hidden="true" tabindex="-1"></a>subDir <span class="ot">&lt;-</span> <span class="st">'training_set_features'</span></span>
<span id="cb363-3"><a href="#cb363-3" aria-hidden="true" tabindex="-1"></a>training_set_features_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(mainDir, subDir)</span>
<span id="cb363-4"><a href="#cb363-4" aria-hidden="true" tabindex="-1"></a>training_set_features_path <span class="sc">|&gt;</span></span>
<span id="cb363-5"><a href="#cb363-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(<span class="at">showWarnings =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb364"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb364-1"><a href="#cb364-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb364-2"><a href="#cb364-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write_dataset</span>(</span>
<span id="cb364-3"><a href="#cb364-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">path =</span> training_set_features_path, </span>
<span id="cb364-4"><a href="#cb364-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">format =</span> <span class="st">"parquet"</span></span>
<span id="cb364-5"><a href="#cb364-5" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb365"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb365-1"><a href="#cb365-1" aria-hidden="true" tabindex="-1"></a>training_set_features_pq <span class="ot">&lt;-</span> </span>
<span id="cb365-2"><a href="#cb365-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read_parquet</span>(</span>
<span id="cb365-3"><a href="#cb365-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(training_set_features_path,<span class="st">"part-0.parquet"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="training_set" class="level3">
<h3 class="anchored" data-anchor-id="training_set"><code>training_set</code></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb366"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb366-1"><a href="#cb366-1" aria-hidden="true" tabindex="-1"></a>mainDir <span class="ot">&lt;-</span> <span class="st">'data/cleaned_data'</span></span>
<span id="cb366-2"><a href="#cb366-2" aria-hidden="true" tabindex="-1"></a>subDir <span class="ot">&lt;-</span> <span class="st">'training_set'</span></span>
<span id="cb366-3"><a href="#cb366-3" aria-hidden="true" tabindex="-1"></a>training_set_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(mainDir, subDir) </span>
<span id="cb366-4"><a href="#cb366-4" aria-hidden="true" tabindex="-1"></a>training_set_path <span class="sc">|&gt;</span></span>
<span id="cb366-5"><a href="#cb366-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(<span class="at">showWarnings =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb367"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb367-1"><a href="#cb367-1" aria-hidden="true" tabindex="-1"></a>training_set_features <span class="sc">|&gt;</span></span>
<span id="cb367-2"><a href="#cb367-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write_dataset</span>(</span>
<span id="cb367-3"><a href="#cb367-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">path =</span> training_set_path, </span>
<span id="cb367-4"><a href="#cb367-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">format =</span> <span class="st">"parquet"</span></span>
<span id="cb367-5"><a href="#cb367-5" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb368"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb368-1"><a href="#cb368-1" aria-hidden="true" tabindex="-1"></a>training_set_pq <span class="ot">&lt;-</span> </span>
<span id="cb368-2"><a href="#cb368-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read_parquet</span>(</span>
<span id="cb368-3"><a href="#cb368-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(training_set_path,<span class="st">"part-0.parquet"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="submission_format" class="level3">
<h3 class="anchored" data-anchor-id="submission_format"><code>submission_format</code></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb369"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb369-1"><a href="#cb369-1" aria-hidden="true" tabindex="-1"></a>mainDir <span class="ot">&lt;-</span> <span class="st">'data/cleaned_data'</span></span>
<span id="cb369-2"><a href="#cb369-2" aria-hidden="true" tabindex="-1"></a>subDir <span class="ot">&lt;-</span> <span class="st">'submission_format'</span></span>
<span id="cb369-3"><a href="#cb369-3" aria-hidden="true" tabindex="-1"></a>submission_format_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(mainDir, subDir) </span>
<span id="cb369-4"><a href="#cb369-4" aria-hidden="true" tabindex="-1"></a>submission_format_path <span class="sc">|&gt;</span></span>
<span id="cb369-5"><a href="#cb369-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(<span class="at">showWarnings =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb370"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb370-1"><a href="#cb370-1" aria-hidden="true" tabindex="-1"></a>submission_format <span class="sc">|&gt;</span></span>
<span id="cb370-2"><a href="#cb370-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write_dataset</span>(</span>
<span id="cb370-3"><a href="#cb370-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">path =</span> submission_format_path, </span>
<span id="cb370-4"><a href="#cb370-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">format =</span> <span class="st">"parquet"</span></span>
<span id="cb370-5"><a href="#cb370-5" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb371"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb371-1"><a href="#cb371-1" aria-hidden="true" tabindex="-1"></a>submission_format_pq <span class="ot">&lt;-</span> </span>
<span id="cb371-2"><a href="#cb371-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read_parquet</span>(</span>
<span id="cb371-3"><a href="#cb371-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(submission_format_path,<span class="st">"part-0.parquet"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="test_set_features" class="level3">
<h3 class="anchored" data-anchor-id="test_set_features"><code>test_set_features</code></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb372"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb372-1"><a href="#cb372-1" aria-hidden="true" tabindex="-1"></a>mainDir <span class="ot">&lt;-</span> <span class="st">'data/cleaned_data'</span></span>
<span id="cb372-2"><a href="#cb372-2" aria-hidden="true" tabindex="-1"></a>subDir <span class="ot">&lt;-</span> <span class="st">'test_set_features'</span></span>
<span id="cb372-3"><a href="#cb372-3" aria-hidden="true" tabindex="-1"></a>test_set_features_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(mainDir, subDir) </span>
<span id="cb372-4"><a href="#cb372-4" aria-hidden="true" tabindex="-1"></a>test_set_features_path <span class="sc">|&gt;</span></span>
<span id="cb372-5"><a href="#cb372-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(<span class="at">showWarnings =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb373"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb373-1"><a href="#cb373-1" aria-hidden="true" tabindex="-1"></a>test_set_features <span class="sc">|&gt;</span></span>
<span id="cb373-2"><a href="#cb373-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write_dataset</span>(</span>
<span id="cb373-3"><a href="#cb373-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">path =</span> test_set_features_path, </span>
<span id="cb373-4"><a href="#cb373-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">format =</span> <span class="st">"parquet"</span></span>
<span id="cb373-5"><a href="#cb373-5" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb374"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb374-1"><a href="#cb374-1" aria-hidden="true" tabindex="-1"></a>test_set_features_pq <span class="ot">&lt;-</span> </span>
<span id="cb374-2"><a href="#cb374-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read_parquet</span>(</span>
<span id="cb374-3"><a href="#cb374-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(test_set_features_path,<span class="st">"part-0.parquet"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>